/**
 * Bundled by jsDelivr using Rollup v2.74.1 and Terser v5.15.1.
 * Original file: /npm/pixi@0.3.1/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var t,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r={exports:{}},i={gl:null,primitiveShader:null,stripShader:null,defaultShader:null,offset:null,projection:null,texturesToUpdate:[],texturesToDestroy:[],visibleCount:0},s={},o={exports:{}},n={},a={exports:{}};function h(){this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vColor = aColor  * alpha;","}"]}t=void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a.exports={global:t,console:t.console,document:t.document,location:t.location,navigator:t.navigator,window:t.window,createCanvas:function(){return t.document.createElement("canvas")},createImage:function(){return new t.Image},createRequest:function(){return new t.XMLHttpRequest}},function(t){var e=a.exports;t.shader=function(t,r,i){var s=r.join("\n"),o=t.createShader(i);return t.shaderSource(o,s),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:(e.console&&e.console.error(t.getShaderInfoLog(o)),null)},t.program=function(r,i,s){var o=t.shader(r,s,r.FRAGMENT_SHADER),n=t.shader(r,i,r.VERTEX_SHADER),a=r.createProgram();return r.attachShader(a,n),r.attachShader(a,o),r.linkProgram(a),r.getProgramParameter(a,r.LINK_STATUS)?a:(e.console&&e.console.error("Could not initialise shaders"),null)}}(n);var l=n,u=i;h.prototype.init=function(){var t=u.gl,e=l.program(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},o.exports=h;var c={exports:{}};function f(){this.program=null,this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y));","   gl_FragColor = gl_FragColor * alpha;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","varying vec2 vTextureCoord;","varying vec2 offsetVector;","varying float vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition, 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"]}var d=n,p=i;f.prototype.init=function(){var t=p.gl,e=d.program(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},c.exports=f;var v={exports:{}};function m(){this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"],this.textureCount=0}var g=n,x=i,b=m.prototype;b.init=function(){var t=x.gl,e=g.program(t,this.vertexSrc||m.defaultVertexSrc,this.fragmentSrc);for(var r in t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.dimensions=t.getUniformLocation(e,"dimensions"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.uniforms)this.uniforms[r].uniformLocation=t.getUniformLocation(e,r);this.initUniforms(),this.program=e},b.initUniforms=function(){var t;for(var e in this.textureCount=1,this.uniforms){var r=(t=this.uniforms[e]).type;"sampler2D"===r?(t._init=!1,null!==t.value&&this.initSampler2D(t)):"mat2"===r||"mat3"===r||"mat4"===r?(t.glMatrix=!0,t.glValueLength=1,"mat2"===r?t.glFunc=x.gl.uniformMatrix2fv:"mat3"===r?t.glFunc=x.gl.uniformMatrix3fv:"mat4"===r&&(t.glFunc=x.gl.uniformMatrix4fv)):(t.glFunc=x.gl["uniform"+r],t.glValueLength="2f"===r||"2i"===r?2:"3f"===r||"3i"===r?3:"4f"===r||"4i"===r?4:1)}},b.initSampler2D=function(t){if(t.value&&t.value.baseTexture&&t.value.baseTexture.hasLoaded){if(x.gl.activeTexture(x.gl["TEXTURE"+this.textureCount]),x.gl.bindTexture(x.gl.TEXTURE_2D,t.value.baseTexture._glTexture),t.textureData){var e=t.textureData,r=e.magFilter?e.magFilter:x.gl.LINEAR,i=e.minFilter?e.minFilter:x.gl.LINEAR,s=e.wrapS?e.wrapS:x.gl.CLAMP_TO_EDGE,o=e.wrapT?e.wrapT:x.gl.CLAMP_TO_EDGE,n=e.luminance?x.gl.LUMINANCE:x.gl.RGBA;if(e.repeat&&(s=x.gl.REPEAT,o=x.gl.REPEAT),x.gl.pixelStorei(x.gl.UNPACK_FLIP_Y_WEBGL,!1),e.width){var a=e.width?e.width:512,h=e.height?e.height:2,l=e.border?e.border:0;x.gl.texImage2D(x.gl.TEXTURE_2D,0,n,a,h,l,n,x.gl.UNSIGNED_BYTE,null)}else x.gl.texImage2D(x.gl.TEXTURE_2D,0,n,x.gl.RGBA,x.gl.UNSIGNED_BYTE,t.value.baseTexture.source);x.gl.texParameteri(x.gl.TEXTURE_2D,x.gl.TEXTURE_MAG_FILTER,r),x.gl.texParameteri(x.gl.TEXTURE_2D,x.gl.TEXTURE_MIN_FILTER,i),x.gl.texParameteri(x.gl.TEXTURE_2D,x.gl.TEXTURE_WRAP_S,s),x.gl.texParameteri(x.gl.TEXTURE_2D,x.gl.TEXTURE_WRAP_T,o)}x.gl.uniform1i(t.uniformLocation,this.textureCount),t._init=!0,this.textureCount++}},b.syncUniforms=function(){var t;for(var e in this.textureCount=1,this.uniforms)1===(t=this.uniforms[e]).glValueLength?!0===t.glMatrix?t.glFunc.call(x.gl,t.uniformLocation,t.transpose,t.value):t.glFunc.call(x.gl,t.uniformLocation,t.value):2===t.glValueLength?t.glFunc.call(x.gl,t.uniformLocation,t.value.x,t.value.y):3===t.glValueLength?t.glFunc.call(x.gl,t.uniformLocation,t.value.x,t.value.y,t.value.z):4===t.glValueLength?t.glFunc.call(x.gl,t.uniformLocation,t.value.x,t.value.y,t.value.z,t.value.w):"sampler2D"===t.type&&(t._init?(x.gl.activeTexture(x.gl["TEXTURE"+this.textureCount]),x.gl.bindTexture(x.gl.TEXTURE_2D,t.value.baseTexture._glTexture),x.gl.uniform1i(t.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(t))},m.defaultVertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"],v.exports=m;var y=i,T=o.exports,_=c.exports,A=v.exports;s.initDefaultShaders=function(){y.primitiveShader=new T,y.primitiveShader.init(),y.stripShader=new _,y.stripShader.init(),y.defaultShader=new A,y.defaultShader.init();var t=y.gl,e=y.defaultShader.program;t.useProgram(e),t.enableVertexAttribArray(y.defaultShader.aVertexPosition),t.enableVertexAttribArray(y.defaultShader.colorAttribute),t.enableVertexAttribArray(y.defaultShader.aTextureCoord)},s.activatePrimitiveShader=function(){var t=y.gl;t.useProgram(y.primitiveShader.program),t.disableVertexAttribArray(y.defaultShader.aVertexPosition),t.disableVertexAttribArray(y.defaultShader.colorAttribute),t.disableVertexAttribArray(y.defaultShader.aTextureCoord),t.enableVertexAttribArray(y.primitiveShader.aVertexPosition),t.enableVertexAttribArray(y.primitiveShader.colorAttribute)},s.deactivatePrimitiveShader=function(){var t=y.gl;t.useProgram(y.defaultShader.program),t.disableVertexAttribArray(y.primitiveShader.aVertexPosition),t.disableVertexAttribArray(y.primitiveShader.colorAttribute),t.enableVertexAttribArray(y.defaultShader.aVertexPosition),t.enableVertexAttribArray(y.defaultShader.colorAttribute),t.enableVertexAttribArray(y.defaultShader.aTextureCoord)},s.activateStripShader=function(){y.gl.useProgram(y.stripShader.program)},s.deactivateStripShader=function(){y.gl.useProgram(y.defaultShader.program)};var w={},E=w.Matrix="undefined"!=typeof Float32Array?Float32Array:Array,C=w.mat3={},S=w.mat4={};C.create=function(){var t=new E(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},C.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},S.create=function(){var t=new E(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},C.multiply=function(t,e,r){r||(r=t);var i=t[0],s=t[1],o=t[2],n=t[3],a=t[4],h=t[5],l=t[6],u=t[7],c=t[8],f=e[0],d=e[1],p=e[2],v=e[3],m=e[4],g=e[5],x=e[6],b=e[7],y=e[8];return r[0]=f*i+d*n+p*l,r[1]=f*s+d*a+p*u,r[2]=f*o+d*h+p*c,r[3]=v*i+m*n+g*l,r[4]=v*s+m*a+g*u,r[5]=v*o+m*h+g*c,r[6]=x*i+b*n+y*l,r[7]=x*s+b*a+y*u,r[8]=x*o+b*h+y*c,r},C.clone=function(t){var e=new E(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},C.transpose=function(t,e){if(!e||t===e){var r=t[1],i=t[2],s=t[5];return t[1]=t[3],t[2]=t[6],t[3]=r,t[5]=t[7],t[6]=i,t[7]=s,t}return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],e},C.toMat4=function(t,e){return e||(e=S.create()),e[15]=1,e[14]=0,e[13]=0,e[12]=0,e[11]=0,e[10]=t[8],e[9]=t[7],e[8]=t[6],e[7]=0,e[6]=t[5],e[5]=t[4],e[4]=t[3],e[3]=0,e[2]=t[2],e[1]=t[1],e[0]=t[0],e},S.create=function(){var t=new E(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},S.transpose=function(t,e){if(!e||t===e){var r=t[1],i=t[2],s=t[3],o=t[6],n=t[7],a=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=r,t[6]=t[9],t[7]=t[13],t[8]=i,t[9]=o,t[11]=t[14],t[12]=s,t[13]=n,t[14]=a,t}return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e},S.multiply=function(t,e,r){r||(r=t);var i=t[0],s=t[1],o=t[2],n=t[3],a=t[4],h=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],p=t[11],v=t[12],m=t[13],g=t[14],x=t[15],b=e[0],y=e[1],T=e[2],_=e[3];return r[0]=b*i+y*a+T*c+_*v,r[1]=b*s+y*h+T*f+_*m,r[2]=b*o+y*l+T*d+_*g,r[3]=b*n+y*u+T*p+_*x,b=e[4],y=e[5],T=e[6],_=e[7],r[4]=b*i+y*a+T*c+_*v,r[5]=b*s+y*h+T*f+_*m,r[6]=b*o+y*l+T*d+_*g,r[7]=b*n+y*u+T*p+_*x,b=e[8],y=e[9],T=e[10],_=e[11],r[8]=b*i+y*a+T*c+_*v,r[9]=b*s+y*h+T*f+_*m,r[10]=b*o+y*l+T*d+_*g,r[11]=b*n+y*u+T*p+_*x,b=e[12],y=e[13],T=e[14],_=e[15],r[12]=b*i+y*a+T*c+_*v,r[13]=b*s+y*h+T*f+_*m,r[14]=b*o+y*l+T*d+_*g,r[15]=b*n+y*u+T*p+_*x,r};var R={exports:{}};function F(t,e){this.x=t||0,this.y=e||0}F.prototype.clone=function(){return new F(this.x,this.y)},R.exports=F;var D={exports:{}};function L(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0}var B=L.prototype;B.clone=function(){return new L(this.x,this.y,this.width,this.height)},B.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=this.x;if(t>=r&&t<=r+this.width){var i=this.y;if(e>=i&&e<=i+this.height)return!0}return!1},D.exports=L;var P={exports:{}};function O(t){if(t instanceof Array||(t=Array.prototype.slice.call(arguments)),"number"==typeof t[0]){for(var e=[],r=0,i=t.length;i>r;r+=2)e.push(new M(t[r],t[r+1]));t=e}this.points=t}var M=R.exports,U=O.prototype;U.clone=function(){for(var t=[],e=0;e<this.points.length;e++)t.push(this.points[e].clone());return new O(t)},U.contains=function(t,e){for(var r=!1,i=0,s=this.points.length-1;i<this.points.length;s=i++){var o=this.points[i].x,n=this.points[i].y,a=this.points[s].x,h=this.points[s].y;n>e!=h>e&&(a-o)*(e-n)/(h-n)+o>t&&(r=!r)}return r},P.exports=O;var I={exports:{}};function N(t,e,r){this.x=t||0,this.y=e||0,this.radius=r||0}var k=N.prototype;k.clone=function(){return new N(this.x,this.y,this.radius)},k.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,i=this.y-e;return this.radius*this.radius>=(r*=r)+(i*=i)},I.exports=N;var j={exports:{}};function Y(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0}var X=D.exports,G=Y.prototype;G.clone=function(){return new Y(this.x,this.y,this.width,this.height)},G.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width-.5,i=(e-this.y)/this.height-.5;return.25>(r*=r)+(i*=i)},G.getBounds=function(){return new X(this.x,this.y,this.width,this.height)},j.exports=Y;var W={NORMAL:0,SCREEN:1},V={exports:{}};var z=function(){this.visible=!0,this.renderable=!0};function q(){this.last=this,this.first=this,this.position=new $,this.scale=new $(1,1),this.pivot=new $(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.buttonMode=!1,this.renderable=!1,this.parent=null,this.stage=null,this.worldAlpha=1,this._interactive=!1,this.defaultCursor="pointer",this.worldTransform=J.create(),this.localTransform=J.create(),this.color=[],this.dynamic=!0,this._sr=0,this._cr=1,this.filterArea=new Q(0,0,1,1)}var H=i,J=w.mat3,K=z,$=R.exports,Q=D.exports,Z=q.prototype;Z.setInteractive=function(t){this.interactive=t},Object.defineProperty(Z,"interactive",{get:function(){return this._interactive},set:function(t){this._interactive=t,this.stage&&(this.stage.dirty=!0)}}),Object.defineProperty(Z,"mask",{get:function(){return this._mask},set:function(t){t?this._mask?(t.start=this._mask.start,t.end=this._mask.end):(this.addFilter(t),t.renderable=!1):(this.removeFilter(this._mask),this._mask.renderable=!0),this._mask=t}}),Object.defineProperty(Z,"filters",{get:function(){return this._filters},set:function(t){if(t){this._filters&&this.removeFilter(this._filters),this.addFilter(t);for(var e=[],r=0;r<t.length;r++)for(var i=t[r].passes,s=0;s<i.length;s++)e.push(i[s]);t.start.filterPasses=e}else this._filters&&this.removeFilter(this._filters);this._filters=t}}),Z.addFilter=function(t){var e=new K,r=new K;t.start=e,t.end=r,e.data=t,r.data=t,e.first=e.last=this,r.first=r.last=this,e.open=!0,e.target=this;var i,s,o=e,n=e;(s=this.first._iPrev)?(i=s._iNext,o._iPrev=s,s._iNext=o):i=this,i&&(i._iPrev=n,n._iNext=i),o=r,n=r,i=null,s=null,(i=(s=this.last)._iNext)&&(i._iPrev=n,n._iNext=i),o._iPrev=s,s._iNext=o;for(var a=this,h=this.last;a;)a.last===h&&(a.last=r),a=a.parent;this.first=e,this.__renderGroup&&this.__renderGroup.addFilterBlocks(e,r)},Z.removeFilter=function(t){var e=t.start,r=e._iNext,i=e._iPrev;r&&(r._iPrev=i),i&&(i._iNext=r),this.first=e._iNext;var s=t.end;r=s._iNext,i=s._iPrev,r&&(r._iPrev=i),i._iNext=r;for(var o=s._iPrev,n=this;n.last===s&&(n.last=o,n=n.parent););this.__renderGroup&&this.__renderGroup.removeFilterBlocks(e,s)},Z.updateTransform=function(){this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation));var t=this.localTransform,e=this.parent.worldTransform,r=this.worldTransform;t[0]=this._cr*this.scale.x,t[1]=-this._sr*this.scale.y,t[3]=this._sr*this.scale.x,t[4]=this._cr*this.scale.y;var i=this.pivot.x,s=this.pivot.y,o=t[0],n=t[1],a=this.position.x-t[0]*i-s*t[1],h=t[3],l=t[4],u=this.position.y-t[4]*s-i*t[3],c=e[0],f=e[1],d=e[2],p=e[3],v=e[4],m=e[5];t[2]=a,t[5]=u,r[0]=c*o+f*h,r[1]=c*n+f*l,r[2]=c*a+f*u+d,r[3]=p*o+v*h,r[4]=p*n+v*l,r[5]=p*a+v*u+m,this.worldAlpha=this.alpha*this.parent.worldAlpha,this.vcount=H.visibleCount},V.exports=q;var tt={exports:{}};function et(){rt.call(this),this.children=[]}var rt=V.exports,it=et.prototype=Object.create(rt.prototype,{constructor:{value:et}});it.addChild=function(t){if(t.parent&&t.parent!==this&&t.parent.removeChild(t),t.parent=this,this.children.push(t),this.stage){var e=t;do{e.interactive&&(this.stage.dirty=!0),e.stage=this.stage,e=e._iNext}while(e)}var r,i,s=t.first,o=t.last;r=(i=this._filters||this._mask?this.last._iPrev:this.last)._iNext;for(var n=this,a=i;n;)n.last===a&&(n.last=t.last),n=n.parent;r&&(r._iPrev=o,o._iNext=r),s._iPrev=i,i._iNext=s,this.__renderGroup&&(t.__renderGroup&&t.__renderGroup.removeDisplayObjectAndChildren(t),this.__renderGroup.addDisplayObjectAndChildren(t))},it.addChildAt=function(t,e){if(!(e>=0&&e<=this.children.length))throw new Error(t+" The index "+e+" supplied is out of bounds "+this.children.length);if(void 0!==t.parent&&t.parent.removeChild(t),t.parent=this,this.stage){var r=t;do{r.interactive&&(this.stage.dirty=!0),r.stage=this.stage,r=r._iNext}while(r)}var i,s,o=t.first,n=t.last;if(e===this.children.length){s=this.last;for(var a=this,h=this.last;a;)a.last===h&&(a.last=t.last),a=a.parent}else s=0===e?this:this.children[e-1].last;(i=s._iNext)&&(i._iPrev=n,n._iNext=i),o._iPrev=s,s._iNext=o,this.children.splice(e,0,t),this.__renderGroup&&(t.__renderGroup&&t.__renderGroup.removeDisplayObjectAndChildren(t),this.__renderGroup.addDisplayObjectAndChildren(t))},it.swapChildren=function(t,e){if(t!==e){var r=this.children.indexOf(t),i=this.children.indexOf(e);if(0>r||0>i)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.removeChild(t),this.removeChild(e),i>r?(this.addChildAt(e,r),this.addChildAt(t,i)):(this.addChildAt(t,i),this.addChildAt(e,r))}},it.getChildAt=function(t){if(t>=0&&t<this.children.length)return this.children[t];throw new Error("Both the supplied DisplayObjects must be a child of the caller "+this)},it.removeChild=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error(t+" The supplied DisplayObject must be a child of the caller "+this);var r=t.first,i=t.last,s=i._iNext,o=r._iPrev;if(s&&(s._iPrev=o),o._iNext=s,this.last===i)for(var n=r._iPrev,a=this;a.last===i&&(a.last=n,a=a.parent););if(i._iNext=null,r._iPrev=null,this.stage){var h=t;do{h.interactive&&(this.stage.dirty=!0),h.stage=null,h=h._iNext}while(h)}t.__renderGroup&&t.__renderGroup.removeDisplayObjectAndChildren(t),t.parent=void 0,this.children.splice(e,1)},it.updateTransform=function(){if(this.visible){rt.prototype.updateTransform.call(this);for(var t=0,e=this.children.length;e>t;t++)this.children[t].updateTransform()}},tt.exports=et;var st={exports:{}},ot={exports:{}},nt={exports:{}};var at=function(){var t={};this.addEventListener=this.on=function(e,r){void 0===t[e]&&(t[e]=[]),-1===t[e].indexOf(r)&&t[e].push(r)},this.dispatchEvent=this.emit=function(e){if(t[e.type]&&t[e.type].length)for(var r=0,i=t[e.type].length;i>r;r++)t[e.type][r](e)},this.removeEventListener=this.off=function(e,r){var i=t[e].indexOf(r);-1!==i&&t[e].splice(i,1)},this.removeAllEventListeners=function(e){var r=t[e];r&&(r.length=0)}};function ht(t,e){if(ct.call(this),this.width=100,this.height=100,this.scaleMode=e||ht.SCALE_MODE.DEFAULT,this.hasLoaded=!1,this.source=t,t){if("complete"in this.source)if(this.source.complete)this.hasLoaded=!0,this.width=this.source.width,this.height=this.source.height,ut.texturesToUpdate.push(this);else{var r=this;this.source.onload=function(){r.hasLoaded=!0,r.width=r.source.width,r.height=r.source.height,ut.texturesToUpdate.push(r),r.dispatchEvent({type:"loaded",content:r})}}else this.hasLoaded=!0,this.width=this.source.width,this.height=this.source.height,ut.texturesToUpdate.push(this);this.imageUrl=null,this._powerOf2=!1}}var lt=a.exports,ut=i,ct=at,ft={},dt=ht.prototype;function pt(t,e){if(xt.call(this),e||(this.noFrame=!0,e=new gt(0,0,1,1)),t instanceof pt&&(t=t.baseTexture),this.baseTexture=t,this.frame=e,this.trim=new mt,this.scope=this,t.hasLoaded)this.noFrame&&(e=new gt(0,0,t.width,t.height)),this.setFrame(e);else{var r=this;t.addEventListener("loaded",(function(){r.onBaseTextureLoaded()}))}}dt.destroy=function(){this.source.src&&(this.imageUrl in ft&&delete ft[this.imageUrl],this.imageUrl=null,this.source.src=null),this.source=null,ut.texturesToDestroy.push(this)},dt.updateSourceImage=function(t){this.hasLoaded=!1,this.source.src=null,this.source.src=t},ht.fromImage=function(t,e,r){var i=ft[t];if(!i){var s=new lt.createImage;e&&(s.crossOrigin=""),s.src=t,(i=new ht(s,r)).imageUrl=t,ft[t]=i}return i},ht.SCALE_MODE={DEFAULT:0,LINEAR:0,NEAREST:1},nt.exports=ht;var vt=nt.exports,mt=R.exports,gt=D.exports,xt=at,bt=pt.prototype;function yt(t){if(_t.call(this),this.anchor=new At,this.texture=t,this.blendMode=Tt.NORMAL,this._width=0,this._height=0,t.baseTexture.hasLoaded)this.updateFrame=!0;else{var e=this;this.texture.addEventListener("update",(function(){e.onTextureUpdate()}))}this.renderable=!0}bt.onBaseTextureLoaded=function(){var t=this.baseTexture;t.removeEventListener("loaded",this.onLoaded),this.noFrame&&(this.frame=new gt(0,0,t.width,t.height)),this.noFrame=!1,this.width=this.frame.width,this.height=this.frame.height,this.scope.dispatchEvent({type:"update",content:this})},bt.destroy=function(t){t&&this.baseTexture.destroy()},bt.setFrame=function(t){if(this.frame=t,this.width=t.width,this.height=t.height,t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.updateFrame=!0,pt.frameUpdates.push(this)},pt.fromImage=function(t,e,r){var i=pt.cache[t];return i||(i=new pt(vt.fromImage(t,e,r)),pt.cache[t]=i),i},pt.fromFrame=function(t){var e=pt.cache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return e},pt.fromCanvas=function(t,e){return new pt(new vt(t,e))},pt.addTextureToCache=function(t,e){pt.cache[e]=t},pt.removeTextureFromCache=function(t){var e=pt.cache[t];return pt.cache[t]=null,e},pt.cache={},pt.frameUpdates=[],pt.SCALE_MODE=vt.SCALE_MODE,ot.exports=pt;var Tt=W,_t=tt.exports,At=R.exports,wt=ot.exports,Et=yt.prototype=Object.create(_t.prototype,{constructor:{value:yt}});Object.defineProperty(Et,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(Et,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),Et.setTexture=function(t){this.texture.baseTexture!==t.baseTexture?(this.textureChange=!0,this.texture=t,this.__renderGroup&&this.__renderGroup.updateTexture(this)):this.texture=t,this.updateFrame=!0},Et.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height),this.updateFrame=!0},yt.fromFrame=function(t){var e=wt.cache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache'+this);return new yt(e)},yt.fromImage=function(t){return new yt(wt.fromImage(t))},st.exports=yt;var Ct={exports:{}};function St(t){Rt.call(this,t[0]),this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this.currentFrame=0,this.playing=!1}var Rt=st.exports,Ft=St.prototype=Object.create(Rt.prototype,{constructor:{value:St}});Object.defineProperty(Ft,"totalFrames",{get:function(){return this.textures.length}}),Ft.stop=function(){this.playing=!1},Ft.play=function(){this.playing=!0},Ft.gotoAndStop=function(t){this.playing=!1,this.currentFrame=t;var e=this.currentFrame+.5|0;this.setTexture(this.textures[e%this.textures.length])},Ft.gotoAndPlay=function(t){this.currentFrame=t,this.playing=!0},Ft.updateTransform=function(){if(Rt.prototype.updateTransform.call(this),this.playing){this.currentFrame+=this.animationSpeed;var t=this.currentFrame+.5|0;this.loop||t<this.textures.length?this.setTexture(this.textures[t%this.textures.length]):t>=this.textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())}},Ct.exports=St;var Dt=function(t,e){this.passes=[this],this.dirty=!0,this.padding=0,this.uniforms=e||{},this.fragmentSrc=t||[]},Lt={exports:{}},Bt={exports:{}};function Pt(){Ot.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;","   gl_FragColor = sum;","}"]}var Ot=Dt,Mt=Pt.prototype=Object.create(Ot.prototype,{constructor:{value:Pt}});Object.defineProperty(Mt,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.dirty=!0,this.uniforms.blur.value=1/7e3*t}}),Bt.exports=Pt;var Ut={exports:{}};function It(){Nt.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;","   gl_FragColor = sum;","}"]}var Nt=Dt,kt=It.prototype=Object.create(Nt.prototype,{constructor:{value:It}});function jt(){this.blurXFilter=new Yt,this.blurYFilter=new Xt,this.passes=[this.blurXFilter,this.blurYFilter]}Object.defineProperty(kt,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),Ut.exports=It;var Yt=Bt.exports,Xt=Ut.exports,Gt=jt.prototype;Object.defineProperty(Gt,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}}),Object.defineProperty(Gt,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}}),Object.defineProperty(Gt,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}),Lt.exports=jt;var Wt={exports:{}};function Vt(){zt.call(this),this.passes=[this],this.uniforms={matrix:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float invert;","uniform mat4 matrix;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * matrix;","   gl_FragColor = gl_FragColor * vColor;","}"]}var zt=Dt,qt=Vt.prototype=Object.create(zt.prototype,{constructor:{value:Vt}});Object.defineProperty(qt,"matrix",{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=t}}),Wt.exports=Vt;var Ht={exports:{}};function Jt(){Kt.call(this),this.passes=[this],this.uniforms={step:{type:"1f",value:5}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float step;","void main(void) {","   vec4 color = texture2D(uSampler, vTextureCoord);","   color = floor(color * step) / step;","   gl_FragColor = color * vColor;","}"]}var Kt=Dt,$t=Jt.prototype=Object.create(Kt.prototype,{constructor:{value:Jt}});Object.defineProperty($t,"step",{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}),Ht.exports=Jt;var Qt={exports:{}};function Zt(){te.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);","    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","    if (lum < 1.00) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.75) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.50) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.3) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","}"]}var te=Dt,ee=Zt.prototype=Object.create(te.prototype,{constructor:{value:Zt}});Object.defineProperty(ee,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),Qt.exports=Zt;var re={exports:{}};function ie(t){se.call(this),this.passes=[this],t.baseTexture._powerOf2=!0,this.uniforms={displacementMap:{type:"sampler2D",value:t},scale:{type:"2f",value:{x:30,y:30}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},t.baseTexture.hasLoaded?(this.uniforms.mapDimensions.value.x=t.width,this.uniforms.mapDimensions.value.y=t.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),t.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D displacementMap;","uniform sampler2D uSampler;","uniform vec2 scale;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   vec2 matSample = texture2D(displacementMap, mapCords).xy;","   matSample -= 0.5;","   matSample *= scale;","   matSample /= mapDimensions;","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + matSample.x, vTextureCoord.y + matSample.y));","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb, 1.0);","   vec2 cord = vTextureCoord;","   gl_FragColor = gl_FragColor * vColor;","}"]}var se=Dt,oe=ie.prototype=Object.create(se.prototype,{constructor:{value:ie}});oe.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height,this.uniforms.displacementMap.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(oe,"map",{get:function(){return this.uniforms.displacementMap.value},set:function(t){this.uniforms.displacementMap.value=t}}),Object.defineProperty(oe,"scale",{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}}),Object.defineProperty(oe,"offset",{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}),re.exports=ie;var ne={exports:{}};function ae(){he.call(this),this.passes=[this],this.uniforms={scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float angle;","uniform float scale;","float pattern() {","   float s = sin(angle), c = cos(angle);","   vec2 tex = vTextureCoord * dimensions.xy;","   vec2 point = vec2(","       c * tex.x - s * tex.y,","       s * tex.x + c * tex.y","   ) * scale;","   return (sin(point.x) * sin(point.y)) * 4.0;","}","void main() {","   vec4 color = texture2D(uSampler, vTextureCoord);","   float average = (color.r + color.g + color.b) / 3.0;","   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);","}"]}var he=Dt,le=ae.prototype=Object.create(he.prototype,{constructor:{value:ae}});Object.defineProperty(le,"scale",{get:function(){return this.uniforms.scale.value},set:function(t){this.dirty=!0,this.uniforms.scale.value=t}}),Object.defineProperty(le,"angle",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),ne.exports=ae;var ue={exports:{}};function ce(){fe.call(this),this.passes=[this],this.uniforms={gray:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float gray;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);","   gl_FragColor = gl_FragColor * vColor;","}"]}var fe=Dt,de=ce.prototype=Object.create(fe.prototype,{constructor:{value:ce}});Object.defineProperty(de,"gray",{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}),ue.exports=ce;var pe={exports:{}};function ve(){me.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float invert;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);","   gl_FragColor = gl_FragColor * vColor;","}"]}var me=Dt,ge=ve.prototype=Object.create(me.prototype,{constructor:{value:ve}});Object.defineProperty(ge,"invert",{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}),pe.exports=ve;var xe={exports:{}};function be(){ye.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:0},dimensions:{type:"4fv",value:new Float32Array([1e4,100,10,10])},pixelSize:{type:"2f",value:{x:10,y:10}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform vec2 testDim;","uniform vec4 dimensions;","uniform vec2 pixelSize;","uniform sampler2D uSampler;","void main(void) {","   vec2 coord = vTextureCoord;","   vec2 size = dimensions.xy/pixelSize;","   vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;","   gl_FragColor = texture2D(uSampler, color);","}"]}var ye=Dt,Te=be.prototype=Object.create(ye.prototype,{constructor:{value:be}});Object.defineProperty(Te,"size",{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.dirty=!0,this.uniforms.pixelSize.value=t}}),xe.exports=be;var _e={exports:{}};function Ae(){we.call(this),this.passes=[this],this.uniforms={red:{type:"2f",value:{x:20,y:20}},green:{type:"2f",value:{x:-20,y:20}},blue:{type:"2f",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform vec2 red;","uniform vec2 green;","uniform vec2 blue;","uniform vec4 dimensions;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;","   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;","   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;","   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;","}"]}var we=Dt,Ee=Ae.prototype=Object.create(we.prototype,{constructor:{value:Ae}});Object.defineProperty(Ee,"angle",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),_e.exports=Ae;var Ce={exports:{}};function Se(){Re.call(this),this.passes=[this],this.uniforms={sepia:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float sepia;","uniform sampler2D uSampler;","const mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);","   gl_FragColor = gl_FragColor * vColor;","}"]}var Re=Dt,Fe=Se.prototype=Object.create(Re.prototype,{constructor:{value:Se}});Object.defineProperty(Fe,"sepia",{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}),Ce.exports=Se;var De={exports:{}};function Le(){Be.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","const vec2 delta = vec2(1.0/10.0, 0.0);","float random(vec3 scale, float seed) {","   return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);","}","void main(void) {","   vec4 color = vec4(0.0);","   float total = 0.0;","   float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);","   for (float t = -30.0; t <= 30.0; t++) {","       float percent = (t + offset - 0.5) / 30.0;","       float weight = 1.0 - abs(percent);","       vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);","       sample.rgb *= sample.a;","       color += sample * weight;","       total += weight;","   }","   gl_FragColor = color / total;","   gl_FragColor.rgb /= gl_FragColor.a + 0.00001;","}"]}var Be=Dt,Pe=Le.prototype=Object.create(Be.prototype,{constructor:{value:Le}});Object.defineProperty(Pe,"blur",{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}}),De.exports=Le;var Oe={exports:{}};function Me(){Ue.call(this),this.passes=[this],this.uniforms={radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"2f",value:{x:.5,y:.5}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float radius;","uniform float angle;","uniform vec2 offset;","void main(void) {","   vec2 coord = vTextureCoord - offset;","   float distance = length(coord);","   if (distance < radius) {","       float ratio = (radius - distance) / radius;","       float angleMod = ratio * ratio * angle;","       float s = sin(angleMod);","       float c = cos(angleMod);","       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);","   }","   gl_FragColor = texture2D(uSampler, coord+offset);","}"]}var Ue=Dt,Ie=Me.prototype=Object.create(Ue.prototype,{constructor:{value:Me}});Object.defineProperty(Ie,"offset",{get:function(){return this.uniforms.offset.value},set:function(t){this.dirty=!0,this.uniforms.offset.value=t}}),Object.defineProperty(Ie,"radius",{get:function(){return this.uniforms.radius.value},set:function(t){this.dirty=!0,this.uniforms.radius.value=t}}),Object.defineProperty(Ie,"angle",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),Oe.exports=Me;var Ne={exports:{}};function ke(t,e){this.canvas=je.createCanvas(),this.context=this.canvas.getContext("2d"),Ge.call(this,We.fromCanvas(this.canvas)),this.setText(t),this.setStyle(e),this.updateText(),this.dirty=!1}var je=a.exports,Ye=i,Xe=R.exports,Ge=st.exports,We=ot.exports,Ve=ke.prototype=Object.create(Ge.prototype,{constructor:{value:ke}});Ve.setStyle=function(t){(t=t||{}).font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,this.style=t,this.dirty=!0},Ve.setText=function(t){this.text=t.toString()||" ",this.dirty=!0},Ve.updateText=function(){this.context.font=this.style.font;var t=this.text;this.style.wordWrap&&(t=this.wordWrap(this.text));for(var e=t.split(/(?:\r\n|\r|\n)/),r=[],i=0,s=0;s<e.length;s++){var o=this.context.measureText(e[s]).width;r[s]=o,i=Math.max(i,o)}this.canvas.width=i+this.style.strokeThickness;var n=this.determineFontHeight("font: "+this.style.font+";")+this.style.strokeThickness;for(this.canvas.height=n*e.length,this.context.fillStyle=this.style.fill,this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline="top",s=0;s<e.length;s++){var a=new Xe(this.style.strokeThickness/2,this.style.strokeThickness/2+s*n);"right"===this.style.align?a.x+=i-r[s]:"center"===this.style.align&&(a.x+=(i-r[s])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(e[s],a.x,a.y),this.style.fill&&this.context.fillText(e[s],a.x,a.y)}this.updateTexture()},Ve.updateTexture=function(){this.texture.baseTexture.width=this.canvas.width,this.texture.baseTexture.height=this.canvas.height,this.texture.frame.width=this.canvas.width,this.texture.frame.height=this.canvas.height,this._width=this.canvas.width,this._height=this.canvas.height,Ye.texturesToUpdate.push(this.texture.baseTexture)},Ve.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1),Ge.prototype.updateTransform.call(this)},Ve.determineFontHeight=function(t){var e=ke.heightCache[t];if(!e){var r=je.document.getElementsByTagName("body")[0],i=je.document.createElement("div"),s=je.document.createTextNode("M");i.appendChild(s),i.setAttribute("style",t+";position:absolute;top:0;left:0"),r.appendChild(i),e=i.offsetHeight,ke.heightCache[t]=e,r.removeChild(i)}return e},Ve.wordWrap=function(t){for(var e="",r=t.split("\n"),i=0;i<r.length;i++){for(var s=this.style.wordWrapWidth,o=r[i].split(" "),n=0;n<o.length;n++){var a=this.context.measureText(o[n]).width,h=a+this.context.measureText(" ").width;h>s?(n>0&&(e+="\n"),e+=o[n]+" ",s=this.style.wordWrapWidth-a):(s-=h,e+=o[n]+" ")}e+="\n"}return e},Ve.destroy=function(t){t&&this.texture.destroy()},ke.heightCache={},Ne.exports=ke;var ze={exports:{}};function qe(t,e){He.call(this),this.setText(t),this.setStyle(e),this.updateText(),this.dirty=!1}var He=tt.exports,Je=st.exports,Ke=R.exports,$e=qe.prototype=Object.create(He.prototype,{constructor:{value:qe}});$e.setText=function(t){this.text=t||" ",this.dirty=!0},$e.setStyle=function(t){(t=t||{}).align=t.align||"left",this.style=t;var e=t.font.split(" ");this.fontName=e[e.length-1],this.fontSize=e.length>=2?parseInt(e[e.length-2],10):qe.fonts[this.fontName].size,this.dirty=!0},$e.updateText=function(){for(var t=qe.fonts[this.fontName],e=new Ke,r=null,i=[],s=0,o=[],n=0,a=this.fontSize/t.size,h=0;h<this.text.length;h++){var l=this.text.charCodeAt(h);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(h)))o.push(e.x),s=Math.max(s,e.x),n++,e.x=0,e.y+=t.lineHeight,r=null;else{var u=t.chars[l];u&&(r&&u[r]&&(e.x+=u.kerning[r]),i.push({texture:u.texture,line:n,charCode:l,position:new Ke(e.x+u.xOffset,e.y+u.yOffset)}),e.x+=u.xAdvance,r=l)}}o.push(e.x),s=Math.max(s,e.x);var c=[];for(h=0;n>=h;h++){var f=0;"right"===this.style.align?f=s-o[h]:"center"===this.style.align&&(f=(s-o[h])/2),c.push(f)}for(h=0;h<i.length;h++){var d=new Je(i[h].texture);d.position.x=(i[h].position.x+c[i[h].line])*a,d.position.y=i[h].position.y*a,d.scale.x=d.scale.y=a,this.addChild(d)}this.width=s*a,this.height=(e.y+t.lineHeight)*a},$e.updateTransform=function(){if(this.dirty){for(;this.children.length>0;)this.removeChild(this.getChildAt(0));this.updateText(),this.dirty=!1}He.prototype.updateTransform.call(this)},qe.fonts={},ze.exports=qe;var Qe={exports:{}};function Ze(){this.global=new rr,this.local=new rr,this.target=null,this.originalEvent=null}function tr(t){this.stage=t,this.mouse=new Ze,this.touchs={},this.tempPoint=new rr,this.mouseoverEnabled=!0,this.pool=[],this.interactiveItems=[],this.interactionDOMElement=null,this.last=0}var er=i,rr=R.exports,ir=st.exports,sr=a.exports;Ze.prototype.getLocalPosition=function(t){var e=t.worldTransform,r=this.global,i=e[0],s=e[1],o=e[2],n=e[3],a=e[4],h=e[5],l=1/(i*a+s*-n);return new rr(a*l*r.x+-s*l*r.y+(h*s-o*a)*l,i*l*r.y+-n*l*r.x+(-h*i+o*n)*l)};var or=tr.prototype;or.handleEvent=function(t){switch(t.type){case"mousedown":this.onMouseDown(t);break;case"mousemove":this.onMouseMove(t);break;case"mouseup":this.onMouseUp(t);break;case"mouseout":this.onMouseOut(t);break;case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t)}},or.collectInteractiveSprite=function(t,e){for(var r=t.children,i=r.length-1;i>=0;i--){var s=r[i];s.interactive?(e.interactiveChildren=!0,this.interactiveItems.push(s),s.children.length>0&&this.collectInteractiveSprite(s,s)):(s.__iParent=null,s.children.length>0&&this.collectInteractiveSprite(s,e))}},or.setTarget=function(t){t?null===this.interactionDOMElement&&this.setTargetDomElement(t.view):null!==this.target&&sr.window.removeEventListener("mouseup",this,!0),sr.window.addEventListener("mouseup",this,!0),this.target=t},or.setTargetDomElement=function(t){null!==this.interactionDOMElement&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]="",this.interactionDOMElement.removeEventListener("mousemove",this,!0),this.interactionDOMElement.removeEventListener("mousedown",this,!0),this.interactionDOMElement.removeEventListener("mouseout",this,!0),this.interactionDOMElement.removeEventListener("touchstart",this,!0),this.interactionDOMElement.removeEventListener("touchend",this,!0),this.interactionDOMElement.removeEventListener("touchmove",this,!0));var e=sr.navigator;e&&e.msPointerEnabled&&(t.style["-ms-content-zooming"]="none",t.style["-ms-touch-action"]="none"),t.addEventListener("mousemove",this,!0),t.addEventListener("mousedown",this,!0),t.addEventListener("mouseout",this,!0),t.addEventListener("touchstart",this,!0),t.addEventListener("touchend",this,!0),t.addEventListener("touchmove",this,!0),this.interactionDOMElement=t},or.update=function(){if(this.target){var t=Date.now(),e=t-this.last;if(!(1>(e=30*e/1e3))){var r,i;if(this.last=t,this.dirty){for(this.dirty=!1,r=0,i=this.interactiveItems.length;i>r;r++)this.interactiveItems[r].interactiveChildren=!1;this.interactiveItems=[],this.stage.interactive&&this.interactiveItems.push(this.stage),this.collectInteractiveSprite(this.stage,this.stage)}for(this.interactionDOMElement.style.cursor="inherit",r=0,i=this.interactiveItems.length;i>r;r++){var s=this.interactiveItems[r];(s.mouseover||s.mouseout||s.buttonMode)&&(s.__hit=this.hitTest(s,this.mouse),this.mouse.target=s,s.__hit?(s.buttonMode&&(this.interactionDOMElement.style.cursor=s.defaultCursor),s.__isOver||(s.mouseover&&s.mouseover(this.mouse),s.__isOver=!0)):s.__isOver&&(s.mouseout&&s.mouseout(this.mouse),s.__isOver=!1))}}}},or.onMouseMove=function(t){this.mouse.originalEvent=t;var e=this.interactionDOMElement.getBoundingClientRect();this.mouse.global.x=(t.clientX-e.left)*(this.target.width/e.width),this.mouse.global.y=(t.clientY-e.top)*(this.target.height/e.height);for(var r=0,i=this.interactiveItems.length;i>r;r++){var s=this.interactiveItems[r];s.mousemove&&s.mousemove(this.mouse)}},or.onMouseDown=function(t){this.mouse.originalEvent=t;for(var e=0,r=this.interactiveItems.length;r>e;e++){var i=this.interactiveItems[e];if((i.mousedown||i.click)&&(i.__mouseIsDown=!0,i.__hit=this.hitTest(i,this.mouse),i.__hit&&(i.mousedown&&i.mousedown(this.mouse),i.__isDown=!0,!i.interactiveChildren)))break}},or.onMouseOut=function(){this.interactionDOMElement.style.cursor="inherit";for(var t=0,e=this.interactiveItems.length;e>t;t++){var r=this.interactiveItems[t];r.__isOver&&(this.mouse.target=r,r.mouseout&&r.mouseout(this.mouse),r.__isOver=!1)}},or.onMouseUp=function(t){this.mouse.originalEvent=t;for(var e=!1,r=0,i=this.interactiveItems.length;i>r;r++){var s=this.interactiveItems[r];(s.mouseup||s.mouseupoutside||s.click)&&(s.__hit=this.hitTest(s,this.mouse),s.__hit&&!e?(s.mouseup&&s.mouseup(this.mouse),s.__isDown&&s.click&&s.click(this.mouse),s.interactiveChildren||(e=!0)):s.__isDown&&s.mouseupoutside&&s.mouseupoutside(this.mouse),s.__isDown=!1)}},or.hitTest=function(t,e){var r=e.global;if(t.vcount!==er.visibleCount)return!1;var i=t instanceof ir,s=t.worldTransform,o=s[0],n=s[1],a=s[2],h=s[3],l=s[4],u=s[5],c=1/(o*l+n*-h),f=l*c*r.x+-n*c*r.y+(u*n-a*l)*c,d=o*c*r.y+-h*c*r.x+(-u*o+a*h)*c;if(e.target=t,t.hitArea&&t.hitArea.contains)return!!t.hitArea.contains(f,d)&&(e.target=t,!0);if(i){var p,v=t.texture.frame.width,m=t.texture.frame.height,g=-v*t.anchor.x;if(f>g&&g+v>f&&(d>(p=-m*t.anchor.y)&&p+m>d))return e.target=t,!0}for(var x=0,b=t.children.length;b>x;x++){var y=t.children[x];if(this.hitTest(y,e))return e.target=t,!0}return!1},or.onTouchMove=function(t){var e,r,i,s,o,n,a,h=this.interactionDOMElement.getBoundingClientRect(),l=t.changedTouches;for(e=0,r=l.length;r>e;e++)for(i=l[e],(s=this.touchs[i.identifier]).originalEvent=t,s.global.x=(i.clientX-h.left)*(this.target.width/h.width),s.global.y=(i.clientY-h.top)*(this.target.height/h.height),o=0,n=this.interactiveItems.length;n>o;o++)(a=this.interactiveItems[e]).touchmove&&a.touchmove(s)},or.onTouchStart=function(t){for(var e=this.interactionDOMElement.getBoundingClientRect(),r=t.changedTouches,i=0,s=r.length;s>i;i++){var o=r[i],n=this.pool.pop();n||(n=new Ze),n.originalEvent=t,this.touchs[o.identifier]=n,n.global.x=(o.clientX-e.left)*(this.target.width/e.width),n.global.y=(o.clientY-e.top)*(this.target.height/e.height);for(var a=0,h=this.interactiveItems.length;h>a;a++){var l=this.interactiveItems[a];if((l.touchstart||l.tap)&&(l.__hit=this.hitTest(l,n),l.__hit&&(l.touchstart&&l.touchstart(n),l.__isDown=!0,l.__touchData=n,!l.interactiveChildren)))break}}},or.onTouchEnd=function(t){for(var e=this.interactionDOMElement.getBoundingClientRect(),r=t.changedTouches,i=0,s=r.length;s>i;i++){var o=r[i],n=this.touchs[o.identifier],a=!1;n.global.x=(o.clientX-e.left)*(this.target.width/e.width),n.global.y=(o.clientY-e.top)*(this.target.height/e.height);for(var h=0,l=this.interactiveItems.length;l>h;h++){var u=this.interactiveItems[h],c=u.__touchData;u.__hit=this.hitTest(u,n),c===n&&(n.originalEvent=t,(u.touchend||u.tap)&&(u.__hit&&!a?(u.touchend&&u.touchend(n),u.__isDown&&u.tap&&u.tap(n),u.interactiveChildren||(a=!0)):u.__isDown&&u.touchendoutside&&u.touchendoutside(n),u.__isDown=!1),u.__touchData=null)}this.pool.push(n),this.touchs[o.identifier]=null}},Qe.exports=tr;var nr={exports:{}},ar={};function hr(t){fr.call(this),this.worldTransform=ur.create(),this.interactive=!0,this.interactionManager=new dr(this),this.dirty=!0,this.__childrenAdded=[],this.__childrenRemoved=[],this.stage=this,this.stage.hitArea=new pr(0,0,1e5,1e5),this.setBackgroundColor(t),this.worldVisible=!0}ar.hex2rgb=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]};var lr=i,ur=w.mat3,cr=ar.hex2rgb,fr=tt.exports,dr=Qe.exports,pr=D.exports,vr=hr.prototype=Object.create(fr.prototype,{constructor:{value:hr}});vr.setInteractionDelegate=function(t){this.interactionManager.setTargetDomElement(t)},vr.updateTransform=function(){this.worldAlpha=1,this.vcount=lr.visibleCount;for(var t=0,e=this.children.length;e>t;t++)this.children[t].updateTransform();this.dirty&&(this.dirty=!1,this.interactionManager.dirty=!0),this.interactive&&this.interactionManager.update()},vr.setBackgroundColor=function(t){this.backgroundColor=t||0,this.backgroundColorSplit=cr(this.backgroundColor);var e=this.backgroundColor.toString(16);e="000000".substr(0,6-e.length)+e,this.backgroundColorString="#"+e},vr.getMousePosition=function(){return this.interactionManager.mouse.global},nr.exports=hr;var mr={exports:{}},gr={},xr={exports:{}};function br(){yr.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor="black",this.graphicsData=[],this.currentPath={points:[]}}var yr=tt.exports,Tr=D.exports,_r=br.prototype=Object.create(yr.prototype,{constructor:{value:br}});_r.lineStyle=function(t,e,r){this.currentPath.points.length||this.graphicsData.pop(),this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=arguments.length<3?1:r,this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:br.POLY},this.graphicsData.push(this.currentPath)},_r.moveTo=function(t,e){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath=this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:br.POLY},this.currentPath.points.push(t,e),this.graphicsData.push(this.currentPath)},_r.lineTo=function(t,e){this.currentPath.points.push(t,e),this.dirty=!0},_r.beginFill=function(t,e){this.filling=!0,this.fillColor=t||0,this.fillAlpha=arguments.length<2?1:e},_r.endFill=function(){this.filling=!1,this.fillColor=null,this.fillAlpha=1},_r.drawRect=function(t,e,r,i){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[t,e,r,i],type:br.RECT},this.graphicsData.push(this.currentPath),this.dirty=!0},_r.drawCircle=function(t,e,r){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[t,e,r,r],type:br.CIRC},this.graphicsData.push(this.currentPath),this.dirty=!0},_r.drawElipse=function(t,e,r,i){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[t,e,r,i],type:br.ELIP},this.graphicsData.push(this.currentPath),this.dirty=!0},_r.clear=function(){this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this.bounds=null},_r.updateFilterBounds=function(){if(!this.bounds){for(var t,e,r,i=1/0,s=-1/0,o=1/0,n=-1/0,a=0;a<this.graphicsData.length;a++){var h=this.graphicsData[a],l=h.type,u=h.lineWidth;if(t=h.points,l===br.RECT){e=t.x-u/2,r=t.y-u/2;var c=t.width+u,f=t.height+u;i=i>e?e:i,s=e+c>s?e+c:s,o=o>r?e:o,n=r+f>n?r+f:n}else if(l===br.CIRC||l===br.ELIP){e=t.x,r=t.y;var d=t.radius+u/2;i=i>e-d?e-d:i,s=e+d>s?e+d:s,o=o>r-d?r-d:o,n=r+d>n?r+d:n}else for(var p=0;p<t.length;p+=2)i=i>(e=t[p])-u?e-u:i,s=e+u>s?e+u:s,o=o>(r=t[p+1])-u?r-u:o,n=r+u>n?r+u:n}this.bounds=new Tr(i,o,s-i,n-o)}},br.POLY=0,br.RECT=1,br.CIRC=2,br.ELIP=3,xr.exports=br;var Ar=a.exports,wr=xr.exports;gr.renderGraphics=function(t,e){for(var r,i,s,o,n=t.worldAlpha,a=0,h=t.graphicsData.length;h>a;a++)if(i=(r=t.graphicsData[a]).points,e.strokeStyle="#"+("00000"+(0|r.lineColor).toString(16)).substr(-6),e.lineWidth=r.lineWidth,r.type===wr.POLY){for(e.beginPath(),e.moveTo(i[0],i[1]),s=1,o=i.length/2;o>s;s++)e.lineTo(i[2*s],i[2*s+1]);i[0]===i[i.length-2]&&i[1]===i[i.length-1]&&e.closePath(),r.fill&&(e.globalAlpha=r.fillAlpha*n,e.fillStyle="#"+("00000"+(0|r.fillColor).toString(16)).substr(-6),e.fill()),r.lineWidth&&(e.globalAlpha=r.lineAlpha*n,e.stroke())}else if(r.type===wr.RECT)(r.fillColor||0===r.fillColor)&&(e.globalAlpha=r.fillAlpha*n,e.fillStyle="#"+("00000"+(0|r.fillColor).toString(16)).substr(-6),e.fillRect(i[0],i[1],i[2],i[3])),r.lineWidth&&(e.globalAlpha=r.lineAlpha*n,e.strokeRect(i[0],i[1],i[2],i[3]));else if(r.type===wr.CIRC)e.beginPath(),e.arc(i[0],i[1],i[2],0,2*Math.PI),e.closePath(),r.fill&&(e.globalAlpha=r.fillAlpha*n,e.fillStyle="#"+("00000"+(0|r.fillColor).toString(16)).substr(-6),e.fill()),r.lineWidth&&(e.globalAlpha=r.lineAlpha*n,e.stroke());else if(r.type===wr.ELIP){var l=r.points,u=2*l[2],c=2*l[3],f=l[0]-u/2,d=l[1]-c/2;e.beginPath();var p=.5522848,v=u/2*p,m=c/2*p,g=f+u,x=d+c,b=f+u/2,y=d+c/2;e.moveTo(f,y),e.bezierCurveTo(f,y-m,b-v,d,b,d),e.bezierCurveTo(b+v,d,g,y-m,g,y),e.bezierCurveTo(g,y+m,b+v,x,b,x),e.bezierCurveTo(b-v,x,f,y+m,f,y),e.closePath(),r.fill&&(e.globalAlpha=r.fillAlpha*n,e.fillStyle="#"+("00000"+(0|r.fillColor).toString(16)).substr(-6),e.fill()),r.lineWidth&&(e.globalAlpha=r.lineAlpha*n,e.stroke())}},gr.renderGraphicsMask=function(t,e){var r=t.graphicsData.length;if(0!==r){r>1&&(r=1,Ar.console.warn("Pixi.js warning: masks in canvas can only mask using the first path in the graphics object"));for(var i=0;1>i;i++){var s=t.graphicsData[i],o=s.points;if(s.type===wr.POLY){e.beginPath(),e.moveTo(o[0],o[1]);for(var n=1;n<o.length/2;n++)e.lineTo(o[2*n],o[2*n+1]);o[0]===o[o.length-2]&&o[1]===o[o.length-1]&&e.closePath()}else if(s.type===wr.RECT)e.beginPath(),e.rect(o[0],o[1],o[2],o[3]),e.closePath();else if(s.type===wr.CIRC)e.beginPath(),e.arc(o[0],o[1],o[2],0,2*Math.PI),e.closePath();else if(s.type===wr.ELIP){var a=s.points,h=2*a[2],l=2*a[3],u=a[0]-h/2,c=a[1]-l/2;e.beginPath();var f=.5522848,d=h/2*f,p=l/2*f,v=u+h,m=c+l,g=u+h/2,x=c+l/2;e.moveTo(u,x),e.bezierCurveTo(u,x-p,g-d,c,g,c),e.bezierCurveTo(g+d,c,v,x-p,v,x),e.bezierCurveTo(v,x+p,g+d,m,g,m),e.bezierCurveTo(g-d,m,u,x+p,u,x),e.closePath()}}}};var Er={exports:{}};function Cr(t,e,r){Rr.call(this),this.texture=t,this.width=e,this.height=r,this.tileScale=new Fr(1,1),this.tilePosition=new Fr(0,0),this.renderable=!0,this.blendMode=Sr.NORMAL}var Sr=W,Rr=tt.exports,Fr=R.exports,Dr=Cr.prototype=Object.create(Rr.prototype,{constructor:{value:Cr}});Dr.setTexture=function(t){this.texture=t,this.updateFrame=!0},Dr.onTextureUpdate=function(){this.updateFrame=!0},Er.exports=Cr;var Lr={exports:{}};function Br(t,e,r){Or.call(this),this.texture=t,this.blendMode=Pr.NORMAL;try{this.uvs=new Float32Array([0,1,1,1,1,0,0,1]),this.verticies=new Float32Array([0,0,0,0,0,0,0,0,0]),this.colors=new Float32Array([1,1,1,1]),this.indices=new Uint16Array([0,1,2,3])}catch(t){this.uvs=[0,1,1,1,1,0,0,1],this.verticies=[0,0,0,0,0,0,0,0,0],this.colors=[1,1,1,1],this.indices=[0,1,2,3]}if(this.width=e,this.height=r,t.baseTexture.hasLoaded)this.width=this.texture.frame.width,this.height=this.texture.frame.height,this.updateFrame=!0;else{var i=this;this.texture.addEventListener("update",(function(){i.onTextureUpdate()}))}this.renderable=!0}var Pr=W,Or=tt.exports,Mr=Br.prototype=Object.create(Or.prototype,{constructor:{value:Br}});Mr.setTexture=function(t){this.texture=t,this.width=t.frame.width,this.height=t.frame.height,this.updateFrame=!0},Mr.onTextureUpdate=function(){this.updateFrame=!0},Lr.exports=Br;var Ur={exports:{}};function Ir(){Nr.call(this),this.renderable=!0}var Nr=V.exports,kr=Ir.prototype=Object.create(Nr.prototype,{constructor:{value:Ir}});function jr(t,e,r,i){this.transparent=i,this.width=t||800,this.height=e||600,this.view=r||Yr.createCanvas(),this.context=this.view.getContext("2d"),this.smoothProperty=null,"imageSmoothingEnabled"in this.context?this.smoothProperty="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.context?this.smoothProperty="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in this.context?this.smoothProperty="mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.context&&(this.smoothProperty="oImageSmoothingEnabled"),this.scaleMode=null,this.refresh=!0,this.view.width=this.width,this.view.height=this.height,this.count=0}kr.renderCanvas=function(){},kr.initWebGL=function(){},kr.renderWebGL=function(){},Ur.exports=Ir;var Yr=a.exports,Xr=i,Gr=gr,Wr=nt.exports,Vr=ot.exports,zr=st.exports,qr=Er.exports,Hr=Lr.exports,Jr=Ur.exports,Kr=xr.exports,$r=z,Qr=jr.prototype;Qr.render=function(t){Xr.texturesToUpdate=[],Xr.texturesToDestroy=[],Xr.visibleCount++,t.updateTransform(),this.view.style.backgroundColor===t.backgroundColorString||this.transparent||(this.view.style.backgroundColor=t.backgroundColorString),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height),this.renderDisplayObject(t),t.interactive&&(t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this))),Vr.frameUpdates.length>0&&(Vr.frameUpdates=[])},Qr.resize=function(t,e){this.width=t,this.height=e,this.view.width=t,this.view.height=e},Qr.renderDisplayObject=function(t){var e,r=this.context;r.globalCompositeOperation="source-over";var i=t.last._iNext;t=t.first;do{if(e=t.worldTransform,t.visible)if(t.renderable){if(t instanceof zr){var s=t.texture.frame;s&&s.width&&s.height&&t.texture.baseTexture.source&&(r.globalAlpha=t.worldAlpha,r.setTransform(e[0],e[3],e[1],e[4],e[2],e[5]),this.smoothProperty&&this.scaleMode!==t.texture.baseTexture.scaleMode&&(this.scaleMode=t.texture.baseTexture.scaleMode,r[this.smoothProperty]=this.scaleMode===Wr.SCALE_MODE.LINEAR),r.drawImage(t.texture.baseTexture.source,s.x,s.y,s.width,s.height,t.anchor.x*-s.width,t.anchor.y*-s.height,s.width,s.height))}else if(t instanceof Hr)r.setTransform(e[0],e[3],e[1],e[4],e[2],e[5]),this.renderStrip(t);else if(t instanceof qr)r.setTransform(e[0],e[3],e[1],e[4],e[2],e[5]),this.renderTilingSprite(t);else if(t instanceof Jr)r.setTransform(e[0],e[3],e[1],e[4],e[2],e[5]),t.renderCanvas(this);else if(t instanceof Kr)r.setTransform(e[0],e[3],e[1],e[4],e[2],e[5]),Gr.renderGraphics(t,r);else if(t instanceof $r&&t.data instanceof Kr){var o=t.data;if(t.open){r.save();var n=o.alpha,a=o.worldTransform;r.setTransform(a[0],a[3],a[1],a[4],a[2],a[5]),o.worldAlpha=.5,r.worldAlpha=0,Gr.renderGraphicsMask(o,r),r.clip(),o.worldAlpha=n}else r.restore()}t=t._iNext}else t=t._iNext;else t=t.last._iNext}while(t!==i)},Qr.renderStripFlat=function(t){var e=this.context,r=t.verticies,i=r.length/2;this.count++,e.beginPath();for(var s=1;i-2>s;s++){var o=2*s,n=r[o],a=r[o+2],h=r[o+4],l=r[o+1],u=r[o+3],c=r[o+5];e.moveTo(n,l),e.lineTo(a,u),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},Qr.renderTilingSprite=function(t){var e=this.context;e.globalAlpha=t.worldAlpha,t.__tilePattern||(t.__tilePattern=e.createPattern(t.texture.baseTexture.source,"repeat")),e.beginPath();var r=t.tilePosition,i=t.tileScale;e.scale(i.x,i.y),e.translate(r.x,r.y),e.fillStyle=t.__tilePattern,e.fillRect(-r.x,-r.y,t.width/i.x,t.height/i.y),e.scale(1/i.x,1/i.y),e.translate(-r.x,-r.y),e.closePath()},Qr.renderStrip=function(t){var e=this.context,r=t.verticies,i=t.uvs,s=r.length/2;this.count++;for(var o=1;s-2>o;o++){var n=2*o,a=r[n],h=r[n+2],l=r[n+4],u=r[n+1],c=r[n+3],f=r[n+5],d=i[n]*t.texture.width,p=i[n+2]*t.texture.width,v=i[n+4]*t.texture.width,m=i[n+1]*t.texture.height,g=i[n+3]*t.texture.height,x=i[n+5]*t.texture.height;e.save(),e.beginPath(),e.moveTo(a,u),e.lineTo(h,c),e.lineTo(l,f),e.closePath(),e.clip();var b=d*g+m*v+p*x-g*v-m*p-d*x,y=a*g+m*l+h*x-g*l-m*h-a*x,T=d*h+a*v+p*l-h*v-a*p-d*l,_=d*g*l+m*h*v+a*p*x-a*g*v-m*p*l-d*h*x,A=u*g+m*f+c*x-g*f-m*c-u*x,w=d*c+u*v+p*f-c*v-u*p-d*f,E=d*g*f+m*c*v+u*p*x-u*g*v-m*p*f-d*c*x;e.transform(y/b,A/b,T/b,w/b,_/b,E/b),e.drawImage(t.texture.baseTexture.source,0,0),e.restore()}},mr.exports=jr;var Zr={exports:{}},ti={exports:{}};function ei(t){this.gl=t,this.size=0,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.blendMode=ii.NORMAL,this.dynamicSize=1}var ri=i,ii=W,si=ei.prototype;si.clean=function(){this.verticies=[],this.uvs=[],this.indices=[],this.colors=[],this.dynamicSize=1,this.texture=null,this.last=null,this.size=0,this.head=null,this.tail=null},si.restoreLostContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer()},si.init=function(t){t.batch=this,this.dirty=!0,this.blendMode=t.blendMode,this.texture=t.texture.baseTexture,this.head=t,this.tail=t,this.size=1,this.growBatch()},si.insertBefore=function(t,e){this.size++,t.batch=this,this.dirty=!0;var r=e.__prev;e.__prev=t,t.__next=e,r?(t.__prev=r,r.__next=t):this.head=t},si.insertAfter=function(t,e){this.size++,t.batch=this,this.dirty=!0;var r=e.__next;e.__next=t,t.__prev=e,r?(t.__next=r,r.__prev=t):this.tail=t},si.remove=function(t){return this.size--,this.size?(t.__prev?t.__prev.__next=t.__next:(this.head=t.__next,this.head.__prev=null),t.__next?t.__next.__prev=t.__prev:(this.tail=t.__prev,this.tail.__next=null),t.batch=null,t.__next=null,t.__prev=null,void(this.dirty=!0)):(t.batch=null,t.__prev=null,void(t.__next=null))},si.split=function(t){this.dirty=!0;var e=new ei(this.gl);e.init(t),e.texture=this.texture,e.tail=this.tail,this.tail=t.__prev,this.tail.__next=null,t.__prev=null;for(var r=0;t;)r++,t.batch=e,t=t.__next;return e.size=r,this.size-=r,e},si.merge=function(t){this.dirty=!0,this.tail.__next=t.head,t.head.__prev=this.tail,this.size+=t.size,this.tail=t.tail;for(var e=t.head;e;)e.batch=this,e=e.__next},si.growBatch=function(){var t=this.gl;1===this.size?this.dynamicSize=1:this.dynamicSize=1.5*this.size,this.verticies=new Float32Array(8*this.dynamicSize),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.verticies,t.DYNAMIC_DRAW),this.uvs=new Float32Array(8*this.dynamicSize),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvs,t.DYNAMIC_DRAW),this.dirtyUVS=!0,this.colors=new Float32Array(4*this.dynamicSize),t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colors,t.DYNAMIC_DRAW),this.dirtyColors=!0,this.indices=new Uint16Array(6*this.dynamicSize);for(var e=0,r=this.indices.length/6;r>e;e++){var i=6*e,s=4*e;this.indices[i+0]=s+0,this.indices[i+1]=s+1,this.indices[i+2]=s+2,this.indices[i+3]=s+0,this.indices[i+4]=s+2,this.indices[i+5]=s+3}t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},si.refresh=function(){this.dynamicSize<this.size&&this.growBatch();for(var t,e,r=0,i=this.head;i;){t=8*r;var s=i.texture,o=s.frame,n=s.baseTexture.width,a=s.baseTexture.height;this.uvs[t+0]=o.x/n,this.uvs[t+1]=o.y/a,this.uvs[t+2]=(o.x+o.width)/n,this.uvs[t+3]=o.y/a,this.uvs[t+4]=(o.x+o.width)/n,this.uvs[t+5]=(o.y+o.height)/a,this.uvs[t+6]=o.x/n,this.uvs[t+7]=(o.y+o.height)/a,i.updateFrame=!1,e=4*r,this.colors[e]=this.colors[e+1]=this.colors[e+2]=this.colors[e+3]=i.worldAlpha,i=i.__next,r++}this.dirtyUVS=!0,this.dirtyColors=!0},si.update=function(){for(var t,e,r,i,s,o,n,a,h,l,u,c,f,d,p,v,m=0,g=this.head,x=this.verticies,b=this.uvs,y=this.colors;g;){if(g.vcount===ri.visibleCount){if(e=g.texture.frame.width,r=g.texture.frame.height,o=e*(1-(i=g.anchor.x)),n=e*-i,a=r*(1-(s=g.anchor.y)),h=r*-s,l=8*m,u=(t=g.worldTransform)[0],c=t[3],f=t[1],d=t[4],p=t[2],v=t[5],x[l+0]=u*n+f*h+p,x[l+1]=d*h+c*n+v,x[l+2]=u*o+f*h+p,x[l+3]=d*h+c*o+v,x[l+4]=u*o+f*a+p,x[l+5]=d*a+c*o+v,x[l+6]=u*n+f*a+p,x[l+7]=d*a+c*n+v,g.updateFrame||g.texture.updateFrame){this.dirtyUVS=!0;var T=g.texture,_=T.frame,A=T.baseTexture.width,w=T.baseTexture.height;b[l+0]=_.x/A,b[l+1]=_.y/w,b[l+2]=(_.x+_.width)/A,b[l+3]=_.y/w,b[l+4]=(_.x+_.width)/A,b[l+5]=(_.y+_.height)/w,b[l+6]=_.x/A,b[l+7]=(_.y+_.height)/w,g.updateFrame=!1}if(g.cacheAlpha!==g.worldAlpha){g.cacheAlpha=g.worldAlpha;var E=4*m;y[E]=y[E+1]=y[E+2]=y[E+3]=g.worldAlpha,this.dirtyColors=!0}}else x[(l=8*m)+0]=x[l+1]=x[l+2]=x[l+3]=x[l+4]=x[l+5]=x[l+6]=x[l+7]=0;m++,g=g.__next}},si.render=function(t,e){if(t=t||0,arguments.length<2&&(e=this.size),this.dirty&&(this.refresh(),this.dirty=!1),this.size){this.update();var r=this.gl,i=ri.defaultShader;r.bindBuffer(r.ARRAY_BUFFER,this.vertexBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,this.verticies),r.vertexAttribPointer(i.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,this.uvBuffer),this.dirtyUVS&&(this.dirtyUVS=!1,r.bufferSubData(r.ARRAY_BUFFER,0,this.uvs)),r.vertexAttribPointer(i.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.texture._glTexture),r.bindBuffer(r.ARRAY_BUFFER,this.colorBuffer),this.dirtyColors&&(this.dirtyColors=!1,r.bufferSubData(r.ARRAY_BUFFER,0,this.colors)),r.vertexAttribPointer(i.colorAttribute,1,r.FLOAT,!1,0,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var s=e-t;r.drawElements(r.TRIANGLES,6*s,r.UNSIGNED_SHORT,2*t*6)}};var oi=[];ei.restoreBatches=function(t){for(var e=0,r=oi.length;r>e;e++)oi[e].restoreLostContext(t)},ei.getBatch=function(){return oi.length?oi.pop():new ei(ri.gl)},ei.returnBatch=function(t){t.clean(),oi.push(t)},ti.exports=ei;var ni={exports:{}},ai={},hi={};function li(t,e,r,i,s,o,n,a){var h=n-r,l=a-i,u=s-r,c=o-i,f=t-r,d=e-i,p=h*h+l*l,v=h*u+l*c,m=h*f+l*d,g=u*u+c*c,x=u*f+c*d,b=1/(p*g-v*v),y=(g*m-v*x)*b,T=(p*x-v*m)*b;return y>=0&&T>=0&&1>y+T}function ui(t,e,r,i,s,o,n){return(e-i)*(s-r)+(r-t)*(o-i)>=0===n}var ci=a.exports;hi.triangulate=function(t){var e=!0,r=t.length>>1;if(3>r)return[];for(var i=[],s=[],o=0;r>o;o++)s.push(o);o=0;for(var n=r;n>3;){var a=s[(o+0)%n],h=s[(o+1)%n],l=s[(o+2)%n],u=t[2*a],c=t[2*a+1],f=t[2*h],d=t[2*h+1],p=t[2*l],v=t[2*l+1],m=!1;if(ui(u,c,f,d,p,v,e)){m=!0;for(var g=0;n>g;g++){var x=s[g];if(x!==a&&x!==h&&x!==l&&li(t[2*x],t[2*x+1],u,c,f,d,p,v)){m=!1;break}}}if(m)i.push(a,h,l),s.splice((o+1)%n,1),n--,o=0;else if(o++>3*n){if(!e)return ci.console.warn("PIXI Warning: shape too complex to fill"),[];for(i=[],s=[],o=0;r>o;o++)s.push(o);o=0,n=r,e=!1}}return i.push(s[0],s[1],s[2]),i},function(t){var e=s,r=i,o=w.mat3,n=ar.hex2rgb,a=hi.triangulate,h=R.exports,l=xr.exports;t.renderGraphics=function(i,s){var n=r.gl;i._webGL||(i._webGL={points:[],indices:[],lastIndex:0,buffer:n.createBuffer(),indexBuffer:n.createBuffer()}),i.dirty&&(i.dirty=!1,i.clearDirty&&(i.clearDirty=!1,i._webGL.lastIndex=0,i._webGL.points=[],i._webGL.indices=[]),t.updateGraphics(i)),e.activatePrimitiveShader();var a=o.clone(i.worldTransform);o.transpose(a),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.uniformMatrix3fv(r.primitiveShader.translationMatrix,!1,a),n.uniform2f(r.primitiveShader.projectionVector,s.x,-s.y),n.uniform2f(r.primitiveShader.offsetVector,-r.offset.x,-r.offset.y),n.uniform1f(r.primitiveShader.alpha,i.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,i._webGL.buffer),n.vertexAttribPointer(r.primitiveShader.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(r.primitiveShader.colorAttribute,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,i._webGL.indexBuffer),n.drawElements(n.TRIANGLE_STRIP,i._webGL.indices.length,n.UNSIGNED_SHORT,0),e.deactivatePrimitiveShader()},t.updateGraphics=function(e){for(var i=e._webGL.lastIndex;i<e.graphicsData.length;i++){var s=e.graphicsData[i];s.type===l.POLY?(s.fill&&s.points.length>3&&t.buildPoly(s,e._webGL),s.lineWidth>0&&t.buildLine(s,e._webGL)):s.type===l.RECT?t.buildRectangle(s,e._webGL):s.type===l.CIRC||(s.type,l.ELIP),t.buildCircle(s,e._webGL)}e._webGL.lastIndex=e.graphicsData.length;var o=r.gl;e._webGL.glPoints=new Float32Array(e._webGL.points),o.bindBuffer(o.ARRAY_BUFFER,e._webGL.buffer),o.bufferData(o.ARRAY_BUFFER,e._webGL.glPoints,o.STATIC_DRAW),e._webGL.glIndicies=new Uint16Array(e._webGL.indices),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e._webGL.indexBuffer),o.bufferData(o.ELEMENT_ARRAY_BUFFER,e._webGL.glIndicies,o.STATIC_DRAW)},t.buildRectangle=function(e,r){var i=e.points,s=i[0],o=i[1],a=i[2],h=i[3];if(e.fill){var l=n(e.fillColor),u=e.fillAlpha,c=l[0]*u,f=l[1]*u,d=l[2]*u,p=r.points,v=r.indices,m=p.length/6;p.push(s,o),p.push(c,f,d,u),p.push(s+a,o),p.push(c,f,d,u),p.push(s,o+h),p.push(c,f,d,u),p.push(s+a,o+h),p.push(c,f,d,u),v.push(m,m,m+1,m+2,m+3,m+3)}e.lineWidth&&(e.points=[s,o,s+a,o,s+a,o+h,s,o+h,s,o],t.buildLine(e,r))},t.buildCircle=function(e,r){var i=e.points,s=i[0],o=i[1],a=i[2],h=i[3],l=2*Math.PI/40,u=0;if(e.fill){var c=n(e.fillColor),f=e.fillAlpha,d=c[0]*f,p=c[1]*f,v=c[2]*f,m=r.points,g=r.indices,x=m.length/6;for(g.push(x),u=0;41>u;u++)m.push(s,o,d,p,v,f),m.push(s+Math.sin(l*u)*a,o+Math.cos(l*u)*h,d,p,v,f),g.push(x++,x++);g.push(x-1)}if(e.lineWidth){for(e.points=[],u=0;41>u;u++)e.points.push(s+Math.sin(l*u)*a,o+Math.cos(l*u)*h);t.buildLine(e,r)}},t.buildLine=function(t,e){var r=0,i=t.points;if(0!==i.length){if(t.lineWidth%2)for(r=0;r<i.length;r++)i[r]+=.5;var s=new h(i[0],i[1]),o=new h(i[i.length-2],i[i.length-1]);if(s.x===o.x&&s.y===o.y){i.pop(),i.pop();var a=(o=new h(i[i.length-2],i[i.length-1])).x+.5*(s.x-o.x),l=o.y+.5*(s.y-o.y);i.unshift(a,l),i.push(a,l)}var u,c,f,d,p,v,m,g,x,b,y,T,_,A,w,E,C,S,R,F,D,L,B=e.points,P=e.indices,O=i.length/2,M=i.length,U=B.length/6,I=t.lineWidth/2,N=n(t.lineColor),k=t.lineAlpha,j=N[0]*k,Y=N[1]*k,X=N[2]*k;for(f=i[0],d=i[1],p=i[2],x=-(d-(v=i[3])),b=f-p,x/=L=Math.sqrt(x*x+b*b),b/=L,x*=I,b*=I,B.push(f-x,d-b,j,Y,X,k),B.push(f+x,d+b,j,Y,X,k),r=1;O-1>r;r++)f=i[2*(r-1)],d=i[2*(r-1)+1],p=i[2*r],v=i[2*r+1],m=i[2*(r+1)],g=i[2*(r+1)+1],x=-(d-v),b=f-p,x/=L=Math.sqrt(x*x+b*b),b/=L,x*=I,b*=I,y=-(v-g),T=p-m,y/=L=Math.sqrt(y*y+T*T),T/=L,C=(-x+f)*(-b+v)-(-x+p)*(-b+d),F=(-(y*=I)+m)*(-(T*=I)+v)-(-y+p)*(-T+g),D=(w=-b+d-(-b+v))*(R=-y+p-(-y+m))-(S=-T+g-(-T+v))*(E=-x+p-(-x+f)),Math.abs(D)<.1?(D+=10.1,B.push(p-x,v-b,j,Y,X,k),B.push(p+x,v+b,j,Y,X,k)):((u=(E*F-R*C)/D)-p)*(u-p)+((c=(S*C-w*F)/D)-v)+(c-v)>19600?(_=x-y,A=b-T,_/=L=Math.sqrt(_*_+A*A),A/=L,_*=I,A*=I,B.push(p-_,v-A),B.push(j,Y,X,k),B.push(p+_,v+A),B.push(j,Y,X,k),B.push(p-_,v-A),B.push(j,Y,X,k),M++):(B.push(u,c),B.push(j,Y,X,k),B.push(p-(u-p),v-(c-v)),B.push(j,Y,X,k));for(f=i[2*(O-2)],d=i[2*(O-2)+1],p=i[2*(O-1)],x=-(d-(v=i[2*(O-1)+1])),b=f-p,x/=L=Math.sqrt(x*x+b*b),b/=L,x*=I,b*=I,B.push(p-x,v-b),B.push(j,Y,X,k),B.push(p+x,v+b),B.push(j,Y,X,k),P.push(U),r=0;M>r;r++)P.push(U++);P.push(U-1)}},t.buildPoly=function(t,e){var r=t.points;if(!(r.length<6)){var i=e.points,s=e.indices,o=r.length/2,h=n(t.fillColor),l=t.fillAlpha,u=h[0]*l,c=h[1]*l,f=h[2]*l,d=a(r),p=i.length/6,v=0;for(v=0;v<d.length;v+=3)s.push(d[v]+p),s.push(d[v]+p),s.push(d[v+1]+p),s.push(d[v+2]+p),s.push(d[v+2]+p);for(v=0;o>v;v++)i.push(r[2*v],r[2*v+1],u,c,f,l)}}}(ai);var fi={exports:{}};function di(t,e){var r=vi.gl;this.frameBuffer=r.createFramebuffer(),this.texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.bindFramebuffer(r.FRAMEBUFFER,this.frameBuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this.texture,0),this.resize(t,e)}function pi(t){this.transparent=t,this.filterStack=[],this.texturePool=[],this.offsetX=0,this.offsetY=0,this.initShaderBuffers()}var vi=i,mi=st.exports,gi=xr.exports,xi=v.exports;di.prototype.resize=function(t,e){if(this.width!==t||this.height!==e){this.width=t,this.height=e;var r=vi.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t,e,0,r.RGBA,r.UNSIGNED_BYTE,null)}};var bi=pi.prototype;function yi(t,e){this.gl=t,this.root=null,this.backgroundColor=void 0,this.transparent=void 0===e||e,this.batchs=[],this.toRemove=[],this.filterManager=new Ei(this.transparent)}bi.begin=function(t,e){this.width=2*t.x,this.height=2*-t.y,this.buffer=e},bi.pushFilter=function(t){var e=vi.gl;this.filterStack.push(t);var r=t.filterPasses[0];this.offsetX+=t.target.filterArea.x,this.offsetY+=t.target.filterArea.y;var i=this.texturePool.pop();i?i.resize(this.width,this.height):i=new di(this.width,this.height),e.bindTexture(e.TEXTURE_2D,i.texture),this.getBounds(t.target);var s=t.target.filterArea,o=r.padding;s.x-=o,s.y-=o,s.width+=2*o,s.height+=2*o,s.x<0&&(s.x=0),s.width>this.width&&(s.width=this.width),s.y<0&&(s.y=0),s.height>this.height&&(s.height=this.height),e.bindFramebuffer(e.FRAMEBUFFER,i.frameBuffer),e.viewport(0,0,s.width,s.height),vi.projection.x=s.width/2,vi.projection.y=-s.height/2,vi.offset.x=-s.x,vi.offset.y=-s.y,e.uniform2f(vi.defaultShader.projectionVector,s.width/2,-s.height/2),e.uniform2f(vi.defaultShader.offsetVector,-s.x,-s.y),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t._glFilterTexture=i},bi.popFilter=function(){var t=vi.gl,e=this.filterStack.pop(),r=e.target.filterArea,i=e._glFilterTexture;if(e.filterPasses.length>1){t.viewport(0,0,r.width,r.height),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=r.height,this.vertexArray[2]=r.width,this.vertexArray[3]=r.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=r.width,this.vertexArray[7]=0,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray);var s=i,o=this.texturePool.pop();o||(o=new di(this.width,this.height)),t.bindFramebuffer(t.FRAMEBUFFER,o.frameBuffer),t.clear(t.COLOR_BUFFER_BIT),t.disable(t.BLEND);for(var n=0;n<e.filterPasses.length-1;n++){var a=e.filterPasses[n];t.bindFramebuffer(t.FRAMEBUFFER,o.frameBuffer),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,s.texture),this.applyFilterPass(a,r,r.width,r.height);var h=s;s=o,o=h}t.enable(t.BLEND),i=s,this.texturePool.push(o)}var l=e.filterPasses[e.filterPasses.length-1];this.offsetX-=r.x,this.offsetY-=r.y;var u=this.width,c=this.height,f=0,d=0,p=this.buffer;if(0===this.filterStack.length)t.colorMask(!0,!0,!0,this.transparent);else{var v=this.filterStack[this.filterStack.length-1];u=(r=v.target.filterArea).width,c=r.height,f=r.x,d=r.y,p=v._glFilterTexture.frameBuffer}vi.projection.x=u/2,vi.projection.y=-c/2,vi.offset.x=f,vi.offset.y=d;var m=(r=e.target.filterArea).x-f,g=r.y-d;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=m,this.vertexArray[1]=g+r.height,this.vertexArray[2]=m+r.width,this.vertexArray[3]=g+r.height,this.vertexArray[4]=m,this.vertexArray[5]=g,this.vertexArray[6]=m+r.width,this.vertexArray[7]=g,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray),t.viewport(0,0,u,c),t.bindFramebuffer(t.FRAMEBUFFER,p),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i.texture),this.applyFilterPass(l,r,u,c),t.useProgram(vi.defaultShader.program),t.uniform2f(vi.defaultShader.projectionVector,u/2,-c/2),t.uniform2f(vi.defaultShader.offsetVector,-f,-d),this.texturePool.push(i),e._glFilterTexture=null},bi.applyFilterPass=function(t,e,r,i){var s=vi.gl,o=t.shader;o||((o=new xi).fragmentSrc=t.fragmentSrc,o.uniforms=t.uniforms,o.init(),t.shader=o),s.useProgram(o.program),s.uniform2f(o.projectionVector,r/2,-i/2),s.uniform2f(o.offsetVector,0,0),t.uniforms.dimensions&&(t.uniforms.dimensions.value[0]=this.width,t.uniforms.dimensions.value[1]=this.height,t.uniforms.dimensions.value[2]=this.vertexArray[0],t.uniforms.dimensions.value[3]=this.vertexArray[5]),o.syncUniforms(),s.bindBuffer(s.ARRAY_BUFFER,this.vertexBuffer),s.vertexAttribPointer(o.aVertexPosition,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.uvBuffer),s.vertexAttribPointer(o.aTextureCoord,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.indexBuffer),s.drawElements(s.TRIANGLES,6,s.UNSIGNED_SHORT,0)},bi.initShaderBuffers=function(){var t=vi.gl;this.vertexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.vertexArray=new Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW),this.uvArray=new Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),t.STATIC_DRAW)},bi.getBounds=function(t){var e,r,i,s,o,n,a,h,l,u,c,f,d,p,v,m,g,x,b,y,T,_,A,w,E=t.first,C=t.last._iNext,S=-1/0,R=-1/0,F=1/0,D=1/0;do{if(E.visible)if(E instanceof mi)r=E.texture.frame.width,i=E.texture.frame.height,n=r*(1-(s=E.anchor.x)),a=r*-s,h=i*(1-(o=E.anchor.y)),l=i*-o,u=!0;else if(E instanceof gi){E.updateFilterBounds();var L=E.bounds;r=L.width,i=L.height,n=L.x,a=L.x+L.width,h=L.y,l=L.y+L.height,u=!0}u&&(c=(e=E.worldTransform)[0],f=e[3],d=e[1],p=e[4],F=(F=(F=(F=F>(g=c*a+d*l+(v=e[2]))?g:F)>(x=c*n+d*l+v)?x:F)>(b=c*n+d*h+v)?b:F)>(y=c*a+d*h+v)?y:F,D=(D=(D=(D=D>(T=p*l+f*a+(m=e[5]))?T:D)>(_=p*l+f*n+m)?_:D)>(A=p*h+f*n+m)?A:D)>(w=p*h+f*a+m)?w:D,S=y>(S=b>(S=x>(S=g>S?g:S)?x:S)?b:S)?y:S,R=w>(R=A>(R=_>(R=T>R?T:R)?_:R)?A:R)?w:R),u=!1,E=E._iNext}while(E!==C);t.filterArea.x=F,t.filterArea.y=D,t.filterArea.width=S-F,t.filterArea.height=R-D},fi.exports=pi;var Ti=i,_i=s,Ai=ai,wi=ti.exports,Ei=fi.exports,Ci=w.mat3,Si=nt.exports,Ri=Er.exports,Fi=Lr.exports,Di=xr.exports,Li=z,Bi=st.exports,Pi=Ur.exports,Oi=yi.prototype;Oi.setRenderable=function(t){this.root&&this.removeDisplayObjectAndChildren(this.root),t.worldVisible=t.visible,this.root=t,this.addDisplayObjectAndChildren(t)},Oi.render=function(t,e){var r=this.gl;yi.updateTextures(r),r.uniform2f(Ti.defaultShader.projectionVector,t.x,t.y),this.filterManager.begin(t,e),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);for(var i,s=0;s<this.batchs.length;s++)(i=this.batchs[s])instanceof wi?this.batchs[s].render():this.renderSpecial(i,t)},Oi.handleFilter=function(){},Oi.renderSpecific=function(t,e,r){var i=this.gl;yi.updateTextures(i),i.uniform2f(Ti.defaultShader.projectionVector,e.x,e.y),this.filterManager.begin(e,r);for(var s,o,n,a,h,l,u=t.first;u._iNext&&(!u.renderable||!u.__renderGroup);)u=u._iNext;var c=u.batch;if(u instanceof Bi)if((l=(c=u.batch).head)===u)s=0;else for(s=1;l.__next!==u;)s++,l=l.__next;else c=u;for(var f=t.last;f._iPrev&&(!f.renderable||!f.__renderGroup);)f=f._iNext;if(f instanceof Bi)if((l=(h=f.batch).head)===f)n=0;else for(n=1;l.__next!==f;)n++,l=l.__next;else h=f;if(c!==h){o=this.batchs.indexOf(c),a=this.batchs.indexOf(h),c instanceof wi?c.render(s):this.renderSpecial(c,e);for(var d,p=o+1;a>p;p++)(d=this.batchs[p])instanceof wi?this.batchs[p].render():this.renderSpecial(d,e);h instanceof wi?h.render(0,n+1):this.renderSpecial(h,e)}else c instanceof wi?c.render(s,n+1):this.renderSpecial(c,e)},Oi.renderSpecial=function(t,e){var r=t.vcount===Ti.visibleCount;t instanceof Ri?r&&this.renderTilingSprite(t,e):t instanceof Fi?r&&this.renderStrip(t,e):t instanceof Pi?r&&t.renderWebGL(this,e):t instanceof Di?r&&t.renderable&&Ai.renderGraphics(t,e):t instanceof Li&&this.handleFilterBlock(t,e)};var Mi=[];function Ui(t,e,r,i,s){var o;this.transparent=!!i,this.width=t||800,this.height=e||600,this.view=r||Ii.createCanvas(),this.view.width=this.width,this.view.height=this.height;var n=this;this.view.addEventListener("webglcontextlost",(function(t){n.handleContextLost(t)}),!1),this.view.addEventListener("webglcontextrestored",(function(t){n.handleContextRestored(t)}),!1),this.batchs=[];var a={alpha:this.transparent,antialias:!!s,premultipliedAlpha:!1,stencil:!0};try{o=this.view.getContext("experimental-webgl",a)}catch(t){try{o=this.view.getContext("webgl",a)}catch(t){throw new Error(" This browser does not support webGL. Try using the canvas renderer"+this)}}this.gl=Ni.gl=o,ki.initDefaultShaders(),o.useProgram(Ni.defaultShader.program),this.batch=new ji(o),o.disable(o.DEPTH_TEST),o.disable(o.CULL_FACE),o.enable(o.BLEND),o.colorMask(!0,!0,!0,this.transparent),this.projection=Ni.projection=new Xi(400,300),this.offset=Ni.offset=new Xi(0,0),this.resize(this.width,this.height),this.contextLost=!1,this.stageRenderGroup=new Yi(this.gl,this.transparent)}Oi.handleFilterBlock=function(t,e){var r=Ti.gl;if(t.open)t.data instanceof Array?this.filterManager.pushFilter(t):(Mi.push(t),r.enable(r.STENCIL_TEST),r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.ALWAYS,1,1),r.stencilOp(r.KEEP,r.KEEP,r.INCR),Ai.renderGraphics(t.data,e),r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.NOTEQUAL,0,Mi.length),r.stencilOp(r.KEEP,r.KEEP,r.KEEP));else if(t.data instanceof Array)this.filterManager.popFilter();else{var i=Mi.pop(t);i&&(r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.ALWAYS,1,1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),Ai.renderGraphics(i.data,e),r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.NOTEQUAL,0,Mi.length),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)),r.disable(r.STENCIL_TEST)}},Oi.updateTexture=function(t){this.removeObject(t);for(var e=t.first;e!==this.root&&(!(e=e._iPrev).renderable||!e.__renderGroup););for(var r=t.last;r._iNext&&(!(r=r._iNext).renderable||!r.__renderGroup););this.insertObject(t,e,r)},Oi.addFilterBlocks=function(t,e){t.__renderGroup=this,e.__renderGroup=this;for(var r=t;r!==this.root.first&&(!(r=r._iPrev).renderable||!r.__renderGroup););this.insertAfter(t,r);for(var i=e;i!==this.root.first&&(!(i=i._iPrev).renderable||!i.__renderGroup););this.insertAfter(e,i)},Oi.removeFilterBlocks=function(t,e){this.removeObject(t),this.removeObject(e)},Oi.addDisplayObjectAndChildren=function(t){t.__renderGroup&&t.__renderGroup.removeDisplayObjectAndChildren(t);for(var e=t.first;e!==this.root.first&&(!(e=e._iPrev).renderable||!e.__renderGroup););for(var r=t.last;r._iNext&&(!(r=r._iNext).renderable||!r.__renderGroup););var i=t.first,s=t.last._iNext;do{i.__renderGroup=this,i.renderable&&(this.insertObject(i,e,r),e=i),i=i._iNext}while(i!==s)},Oi.removeDisplayObjectAndChildren=function(t){if(t.__renderGroup===this)do{t.__renderGroup=null,t.renderable&&this.removeObject(t),t=t._iNext}while(t)},Oi.insertObject=function(t,e,r){var i,s,o=e,n=r;if(t instanceof Bi){var a,h;if(o instanceof Bi){if((a=o.batch)&&a.texture===t.texture.baseTexture&&a.blendMode===t.blendMode)return void a.insertAfter(t,o)}else a=o;if(n)if(n instanceof Bi){if(h=n.batch){if(h.texture===t.texture.baseTexture&&h.blendMode===t.blendMode)return void h.insertBefore(t,n);if(h===a){var l=a.split(n);return i=wi.getBatch(),s=this.batchs.indexOf(a),i.init(t),void this.batchs.splice(s+1,0,i,l)}}}else h=n;return(i=wi.getBatch()).init(t),void(a?(s=this.batchs.indexOf(a),this.batchs.splice(s+1,0,i)):this.batchs.push(i))}t instanceof Ri?this.initTilingSprite(t):t instanceof Fi&&this.initStrip(t),this.insertAfter(t,o)},Oi.insertAfter=function(t,e){var r,i,s;e instanceof Bi?(r=e.batch)?r.tail===e?(s=this.batchs.indexOf(r),this.batchs.splice(s+1,0,t)):(i=r.split(e.__next),s=this.batchs.indexOf(r),this.batchs.splice(s+1,0,t,i)):this.batchs.push(t):(s=this.batchs.indexOf(e),this.batchs.splice(s+1,0,t))},Oi.removeObject=function(t){var e,r;if(t instanceof Bi){var i=t.batch;if(!i)return;i.remove(t),i.size||(e=i)}else e=t;if(e){if(-1===(r=this.batchs.indexOf(e)))return;if(0===r||r===this.batchs.length-1)return this.batchs.splice(r,1),void(e instanceof wi&&wi.returnBatch(e));if(this.batchs[r-1]instanceof wi&&this.batchs[r+1]instanceof wi&&this.batchs[r-1].texture===this.batchs[r+1].texture&&this.batchs[r-1].blendMode===this.batchs[r+1].blendMode)return this.batchs[r-1].merge(this.batchs[r+1]),e instanceof wi&&wi.returnBatch(e),wi.returnBatch(this.batchs[r+1]),void this.batchs.splice(r,2);this.batchs.splice(r,1),e instanceof wi&&wi.returnBatch(e)}},Oi.initTilingSprite=function(t){var e=this.gl;t.verticies=new Float32Array([0,0,t.width,0,t.width,t.height,0,t.height]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.colors=new Float32Array([1,1,1,1]),t.indices=new Uint16Array([0,1,3,2]),t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.verticies,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW),t.texture.baseTexture._glTexture?(e.bindTexture(e.TEXTURE_2D,t.texture.baseTexture._glTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),t.texture.baseTexture._powerOf2=!0):t.texture.baseTexture._powerOf2=!0},Oi.renderStrip=function(t,e){var r=this.gl;_i.activateStripShader();var i=Ti.stripShader,s=Ci.clone(t.worldTransform);Ci.transpose(s),r.uniformMatrix3fv(i.translationMatrix,!1,s),r.uniform2f(i.projectionVector,e.x,e.y),r.uniform2f(i.offsetVector,-Ti.offset.x,-Ti.offset.y),r.uniform1f(i.alpha,t.worldAlpha),t.dirty?(t.dirty=!1,r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferData(r.ARRAY_BUFFER,t.verticies,r.STATIC_DRAW),r.vertexAttribPointer(i.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.bufferData(r.ARRAY_BUFFER,t.uvs,r.STATIC_DRAW),r.vertexAttribPointer(i.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,t.texture.baseTexture._glTexture),r.bindBuffer(r.ARRAY_BUFFER,t._colorBuffer),r.bufferData(r.ARRAY_BUFFER,t.colors,r.STATIC_DRAW),r.vertexAttribPointer(i.colorAttribute,1,r.FLOAT,!1,0,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.indices,r.STATIC_DRAW)):(r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,t.verticies),r.vertexAttribPointer(i.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.vertexAttribPointer(i.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,t.texture.baseTexture._glTexture),r.bindBuffer(r.ARRAY_BUFFER,t._colorBuffer),r.vertexAttribPointer(i.colorAttribute,1,r.FLOAT,!1,0,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer)),r.drawElements(r.TRIANGLE_STRIP,t.indices.length,r.UNSIGNED_SHORT,0),_i.deactivateStripShader()},Oi.renderTilingSprite=function(t,e){var r=this.gl,i=t.tilePosition,s=t.tileScale,o=i.x/t.texture.baseTexture.width,n=i.y/t.texture.baseTexture.height,a=t.width/t.texture.baseTexture.width/s.x,h=t.height/t.texture.baseTexture.height/s.y;t.uvs[0]=0-o,t.uvs[1]=0-n,t.uvs[2]=1*a-o,t.uvs[3]=0-n,t.uvs[4]=1*a-o,t.uvs[5]=1*h-n,t.uvs[6]=0-o,t.uvs[7]=1*h-n,r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,t.uvs),this.renderStrip(t,e)},Oi.initStrip=function(t){var e=this.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.verticies,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},yi.updateTexture=function(t,e){e._glTexture||(e._glTexture=t.createTexture()),e.hasLoaded&&(t.bindTexture(t.TEXTURE_2D,e._glTexture),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===Si.SCALE_MODE.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===Si.SCALE_MODE.LINEAR?t.LINEAR:t.NEAREST),e._powerOf2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindTexture(t.TEXTURE_2D,null))},yi.destroyTexture=function(t,e){e._glTexture&&(e._glTexture=t.createTexture(),t.deleteTexture(t.TEXTURE_2D,e._glTexture))},yi.updateTextures=function(t){for(var e=0,r=Ti.texturesToUpdate.length;r>e;e++)yi.updateTexture(t,Ti.texturesToUpdate[e]);for(e=0,r=Ti.texturesToDestroy.length;r>e;e++)yi.destroyTexture(t,Ti.texturesToDestroy[e]);Ti.texturesToUpdate=[],Ti.texturesToDestroy=[]},ni.exports=yi;var Ii=a.exports,Ni=i,ki=s,ji=ti.exports,Yi=ni.exports,Xi=R.exports,Gi=ot.exports,Wi=Ui.prototype;Wi.render=function(t){if(!this.contextLost){this.__stage!==t&&(this.__stage=t,this.stageRenderGroup.setRenderable(t));var e=this.gl;if(Yi.updateTextures(e),Ni.visibleCount++,t.updateTransform(),e.colorMask(!0,!0,!0,this.transparent),e.viewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(t.backgroundColorSplit[0],t.backgroundColorSplit[1],t.backgroundColorSplit[2],!this.transparent),e.clear(e.COLOR_BUFFER_BIT),this.stageRenderGroup.backgroundColor=t.backgroundColorSplit,this.projection.x=this.width/2,this.projection.y=-this.height/2,this.stageRenderGroup.render(this.projection),t.interactive&&(t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this))),Gi.frameUpdates.length>0){for(var r=0,i=Gi.frameUpdates.length;i>r;r++)Gi.frameUpdates[r].updateFrame=!1;Gi.frameUpdates=[]}}},Wi.resize=function(t,e){this.width=t,this.height=e,this.view.width=t,this.view.height=e,this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2,this.projection.y=-this.height/2},Wi.handleContextLost=function(t){t.preventDefault(),this.contextLost=!0},Wi.handleContextRestored=function(){var t=this.gl=this.view.getContext("experimental-webgl",{alpha:!0});for(var e in this.initShaders(),Gi.cache){var r=Gi.cache[e].baseTexture;r._glTexture=null,Yi.updateTexture(t,r)}for(var i=0,s=this.batchs.length;s>i;i++)this.batchs[i].restoreLostContext(t),this.batchs[i].dirty=!0;ji.restoreBatches(t),this.contextLost=!1},Zr.exports=Ui;var Vi=a.exports,zi=mr.exports,qi=Zr.exports,Hi={exports:{}};function Ji(t,e){Ki.call(this,t),this.points=e;try{this.verticies=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length)}catch(t){this.verticies=new Array(4*e.length),this.uvs=new Array(4*e.length),this.colors=new Array(2*e.length),this.indices=new Array(2*e.length)}this.refresh()}var Ki=Lr.exports,$i=tt.exports,Qi=Ji.prototype=Object.create(Ki.prototype,{constructor:{value:Ji}});Qi.refresh=function(){var t=this.points;if(!(t.length<1)){var e=this.uvs;t[0];var r=this.indices,i=this.colors;this.count-=.2,e[0]=0,e[1]=1,e[2]=0,e[3]=1,i[0]=1,i[1]=1,r[0]=0,r[1]=1;for(var s,o,n=t.length,a=1;n>a;a++)o=a/(n-1),e[s=4*a]=o,e[s+1]=0,e[s+2]=o,e[s+3]=1,i[s=2*a]=1,i[s+1]=1,r[s=2*a]=s,r[s+1]=s+1}},Qi.updateTransform=function(){var t=this.points;if(!(t.length<1)){var e,r=t[0],i={x:0,y:0};this.count-=.2;var s=this.verticies;s[0]=r.x+i.x,s[1]=r.y+i.y,s[2]=r.x-i.x,s[3]=r.y-i.y;for(var o,n,a,h,l=t.length,u=1;l>u;u++)o=t[u],n=4*u,e=u<t.length-1?t[u+1]:o,i.y=-(e.x-r.x),i.x=e.y-r.y,a=Math.sqrt(i.x*i.x+i.y*i.y),h=this.texture.height/2,i.x/=a,i.y/=a,i.x*=h,i.y*=h,s[n]=o.x+i.x,s[n+1]=o.y+i.y,s[n+2]=o.x-i.x,s[n+3]=o.y-i.y,r=o;$i.prototype.updateTransform.call(this)}},Qi.setTexture=function(t){this.texture=t,this.updateFrame=!0},Hi.exports=Ji;var Zi={exports:{}},ts={exports:{}},es=ts.exports={};function rs(t){if(ss.call(this),this.spineData=rs.animCache[t],!this.spineData)throw new Error("Spine data must be preloaded using SpineLoader or AssetLoader: "+t);this.skeleton=new is.Skeleton(this.spineData),this.skeleton.updateWorldTransform(),this.stateData=new is.AnimationStateData(this.spineData),this.state=new is.AnimationState(this.stateData),this.slotContainers=[];for(var e=0,r=this.skeleton.drawOrder.length;r>e;e++){var i=this.skeleton.drawOrder[e],s=i.attachment,o=new ss;if(this.slotContainers.push(o),this.addChild(o),s instanceof is.RegionAttachment){var n=s.rendererObject.name,a=this.createSprite(i,s.rendererObject);i.currentSprite=a,i.currentSpriteName=n,o.addChild(a)}}}es.BoneData=function(t,e){this.name=t,this.parent=e},es.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1},es.SlotData=function(t,e){this.name=t,this.boneData=e},es.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null},es.Bone=function(t,e){this.data=t,this.parent=e,this.setToSetupPose()},es.Bone.yDown=!1,es.Bone.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,updateWorldTransform:function(t,e){var r=this.parent;null!=r?(this.worldX=this.x*r.m00+this.y*r.m01+r.worldX,this.worldY=this.x*r.m10+this.y*r.m11+r.worldY,this.worldScaleX=r.worldScaleX*this.scaleX,this.worldScaleY=r.worldScaleY*this.scaleY,this.worldRotation=r.worldRotation+this.rotation):(this.worldX=this.x,this.worldY=this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotation);var i=this.worldRotation*Math.PI/180,s=Math.cos(i),o=Math.sin(i);this.m00=s*this.worldScaleX,this.m10=o*this.worldScaleX,this.m01=-o*this.worldScaleY,this.m11=s*this.worldScaleY,t&&(this.m00=-this.m00,this.m01=-this.m01),e&&(this.m10=-this.m10,this.m11=-this.m11),es.Bone.yDown&&(this.m10=-this.m10,this.m11=-this.m11)},setToSetupPose:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY}},es.Slot=function(t,e,r){this.data=t,this.skeleton=e,this.bone=r,this.setToSetupPose()},es.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,setAttachment:function(t){this.attachment=t,this._attachmentTime=this.skeleton.time},setAttachmentTime:function(t){this._attachmentTime=this.skeleton.time-t},getAttachmentTime:function(){return this.skeleton.time-this._attachmentTime},setToSetupPose:function(){var t=this.data;this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a;for(var e=this.skeleton.data.slots,r=0,i=e.length;i>r;r++)if(e[r]==t){this.setAttachment(t.attachmentName?this.skeleton.getAttachmentBySlotIndex(r,t.attachmentName):null);break}}},es.Skin=function(t){this.name=t,this.attachments={}},es.Skin.prototype={addAttachment:function(t,e,r){this.attachments[t+":"+e]=r},getAttachment:function(t,e){return this.attachments[t+":"+e]},_attachAll:function(t,e){for(var r in e.attachments){var i=r.indexOf(":"),s=parseInt(r.substring(0,i),10),o=r.substring(i+1),n=t.slots[s];if(n.attachment&&n.attachment.name==o){var a=this.getAttachment(s,o);a&&n.setAttachment(a)}}}},es.Animation=function(t,e,r){this.name=t,this.timelines=e,this.duration=r},es.Animation.prototype={apply:function(t,e,r){r&&this.duration&&(e%=this.duration);for(var i=this.timelines,s=0,o=i.length;o>s;s++)i[s].apply(t,e,1)},mix:function(t,e,r,i){r&&this.duration&&(e%=this.duration);for(var s=this.timelines,o=0,n=s.length;n>o;o++)s[o].apply(t,e,i)}},es.binarySearch=function(t,e,r){var i=0,s=Math.floor(t.length/r)-2;if(!s)return r;for(var o=s>>>1;;){if(t[(o+1)*r]<=e?i=o+1:s=o,i==s)return(i+1)*r;o=i+s>>>1}},es.linearSearch=function(t,e,r){for(var i=0,s=t.length-r;s>=i;i+=r)if(t[i]>e)return i;return-1},es.Curves=function(t){this.curves=[],this.curves.length=6*(t-1)},es.Curves.prototype={setLinear:function(t){this.curves[6*t]=0},setStepped:function(t){this.curves[6*t]=-1},setCurve:function(t,e,r,i,s){var o=.1,n=o*o,a=n*o,h=3*o,l=3*n,u=6*n,c=6*a,f=2*-e+i,d=2*-r+s,p=3*(e-i)+1,v=3*(r-s)+1,m=6*t,g=this.curves;g[m]=e*h+f*l+p*a,g[m+1]=r*h+d*l+v*a,g[m+2]=f*u+p*c,g[m+3]=d*u+v*c,g[m+4]=p*c,g[m+5]=v*c},getCurvePercent:function(t,e){e=0>e?0:e>1?1:e;var r=6*t,i=this.curves,s=i[r];if(!s)return e;if(-1==s)return 0;for(var o=i[r+1],n=i[r+2],a=i[r+3],h=i[r+4],l=i[r+5],u=s,c=o,f=8;;){if(u>=e){var d=u-s,p=c-o;return p+(c-p)*(e-d)/(u-d)}if(!f)break;f--,s+=n,o+=a,n+=h,a+=l,u+=s,c+=o}return c+(1-c)*(e-u)/(1-u)}},es.RotateTimeline=function(t){this.curves=new es.Curves(t),this.frames=[],this.frames.length=2*t},es.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,r){t*=2,this.frames[t]=e,this.frames[t+1]=r},apply:function(t,e,r){var i,s=this.frames;if(!(e<s[0])){var o=t.bones[this.boneIndex];if(e>=s[s.length-2]){for(i=o.data.rotation+s[s.length-1]-o.rotation;i>180;)i-=360;for(;-180>i;)i+=360;return void(o.rotation+=i*r)}var n=es.binarySearch(s,e,2),a=s[n-1],h=s[n],l=1-(e-h)/(s[n-2]-h);for(l=this.curves.getCurvePercent(n/2-1,l),i=s[n+1]-a;i>180;)i-=360;for(;-180>i;)i+=360;for(i=o.data.rotation+(a+i*l)-o.rotation;i>180;)i-=360;for(;-180>i;)i+=360;o.rotation+=i*r}}},es.TranslateTimeline=function(t){this.curves=new es.Curves(t),this.frames=[],this.frames.length=3*t},es.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,r,i){t*=3,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=i},apply:function(t,e,r){var i=this.frames;if(!(e<i[0])){var s=t.bones[this.boneIndex];if(e>=i[i.length-3])return s.x+=(s.data.x+i[i.length-2]-s.x)*r,void(s.y+=(s.data.y+i[i.length-1]-s.y)*r);var o=es.binarySearch(i,e,3),n=i[o-2],a=i[o-1],h=i[o],l=1-(e-h)/(i[o+-3]-h);l=this.curves.getCurvePercent(o/3-1,l),s.x+=(s.data.x+n+(i[o+1]-n)*l-s.x)*r,s.y+=(s.data.y+a+(i[o+2]-a)*l-s.y)*r}}},es.ScaleTimeline=function(t){this.curves=new es.Curves(t),this.frames=[],this.frames.length=3*t},es.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,r,i){t*=3,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=i},apply:function(t,e,r){var i=this.frames;if(!(e<i[0])){var s=t.bones[this.boneIndex];if(e>=i[i.length-3])return s.scaleX+=(s.data.scaleX-1+i[i.length-2]-s.scaleX)*r,void(s.scaleY+=(s.data.scaleY-1+i[i.length-1]-s.scaleY)*r);var o=es.binarySearch(i,e,3),n=i[o-2],a=i[o-1],h=i[o],l=1-(e-h)/(i[o+-3]-h);l=this.curves.getCurvePercent(o/3-1,l),s.scaleX+=(s.data.scaleX-1+n+(i[o+1]-n)*l-s.scaleX)*r,s.scaleY+=(s.data.scaleY-1+a+(i[o+2]-a)*l-s.scaleY)*r}}},es.ColorTimeline=function(t){this.curves=new es.Curves(t),this.frames=[],this.frames.length=5*t},es.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,r,i,s,o){t*=5,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=i,this.frames[t+3]=s,this.frames[t+4]=o},apply:function(t,e,r){var i=this.frames;if(!(e<i[0])){var s=t.slots[this.slotIndex];if(e>=i[i.length-5]){var o=i.length-1;return s.r=i[o-3],s.g=i[o-2],s.b=i[o-1],void(s.a=i[o])}var n=es.binarySearch(i,e,5),a=i[n-4],h=i[n-3],l=i[n-2],u=i[n-1],c=i[n],f=1-(e-c)/(i[n-5]-c);f=this.curves.getCurvePercent(n/5-1,f);var d=a+(i[n+1]-a)*f,p=h+(i[n+2]-h)*f,v=l+(i[n+3]-l)*f,m=u+(i[n+4]-u)*f;1>r?(s.r+=(d-s.r)*r,s.g+=(p-s.g)*r,s.b+=(v-s.b)*r,s.a+=(m-s.a)*r):(s.r=d,s.g=p,s.b=v,s.a=m)}}},es.AttachmentTimeline=function(t){this.curves=new es.Curves(t),this.frames=[],this.frames.length=t,this.attachmentNames=[],this.attachmentNames.length=t},es.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r},apply:function(t,e,r){var i=this.frames;if(!(e<i[0])){var s;s=e>=i[i.length-1]?i.length-1:es.binarySearch(i,e,1)-1;var o=this.attachmentNames[s];t.slots[this.slotIndex].setAttachment(o?t.getAttachmentBySlotIndex(this.slotIndex,o):null)}}},es.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.animations=[]},es.SkeletonData.prototype={defaultSkin:null,findBone:function(t){for(var e=this.bones,r=0,i=e.length;i>r;r++)if(e[r].name==t)return e[r];return null},findBoneIndex:function(t){for(var e=this.bones,r=0,i=e.length;i>r;r++)if(e[r].name==t)return r;return-1},findSlot:function(t){for(var e=this.slots,r=0,i=e.length;i>r;r++)if(e[r].name==t)return e[r];return null},findSlotIndex:function(t){for(var e=this.slots,r=0,i=e.length;i>r;r++)if(e[r].name==t)return r;return-1},findSkin:function(t){for(var e=this.skins,r=0,i=e.length;i>r;r++)if(e[r].name==t)return e[r];return null},findAnimation:function(t){for(var e=this.animations,r=0,i=e.length;i>r;r++)if(e[r].name==t)return e[r];return null}},es.Skeleton=function(t){this.data=t,this.bones=[];for(var e=0,r=t.bones.length;r>e;e++){var i=t.bones[e],s=i.parent?this.bones[t.bones.indexOf(i.parent)]:null;this.bones.push(new es.Bone(i,s))}for(this.slots=[],this.drawOrder=[],e=0,r=t.slots.length;r>e;e++){var o=t.slots[e],n=this.bones[t.bones.indexOf(o.boneData)],a=new es.Slot(o,this,n);this.slots.push(a),this.drawOrder.push(a)}},es.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateWorldTransform:function(){for(var t=this.flipX,e=this.flipY,r=this.bones,i=0,s=r.length;s>i;i++)r[i].updateWorldTransform(t,e)},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var t=this.bones,e=0,r=t.length;r>e;e++)t[e].setToSetupPose()},setSlotsToSetupPose:function(){for(var t=this.slots,e=0,r=t.length;r>e;e++)t[e].setToSetupPose(e)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(t){for(var e=this.bones,r=0,i=e.length;i>r;r++)if(e[r].data.name==t)return e[r];return null},findBoneIndex:function(t){for(var e=this.bones,r=0,i=e.length;i>r;r++)if(e[r].data.name==t)return r;return-1},findSlot:function(t){for(var e=this.slots,r=0,i=e.length;i>r;r++)if(e[r].data.name==t)return e[r];return null},findSlotIndex:function(t){for(var e=this.slots,r=0,i=e.length;i>r;r++)if(e[r].data.name==t)return r;return-1},setSkinByName:function(t){var e=this.data.findSkin(t);if(!e)throw"Skin not found: "+t;this.setSkin(e)},setSkin:function(t){this.skin&&t&&t._attachAll(this,this.skin),this.skin=t},getAttachmentBySlotName:function(t,e){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(t),e)},getAttachmentBySlotIndex:function(t,e){if(this.skin){var r=this.skin.getAttachment(t,e);if(r)return r}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},setAttachment:function(t,e){for(var r=this.slots,i=0,s=r.size;s>i;i++){var o=r[i];if(o.data.name==t){var n=null;if(e&&null==(n=this.getAttachment(i,e)))throw"Attachment not found: "+e+", for slot: "+t;return void o.setAttachment(n)}}throw"Slot not found: "+t},update:function(t){this.time+=t}},es.AttachmentType={region:0},es.RegionAttachment=function(){this.offset=[],this.offset.length=8,this.uvs=[],this.uvs.length=8},es.RegionAttachment.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(t,e,r,i,s){var o=this.uvs;s?(o[2]=t,o[3]=i,o[4]=t,o[5]=e,o[6]=r,o[7]=e,o[0]=r,o[1]=i):(o[0]=t,o[1]=i,o[2]=t,o[3]=e,o[4]=r,o[5]=e,o[6]=r,o[7]=i)},updateOffset:function(){var t=this.width/this.regionOriginalWidth*this.scaleX,e=this.height/this.regionOriginalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.regionOffsetX*t,i=-this.height/2*this.scaleY+this.regionOffsetY*e,s=r+this.regionWidth*t,o=i+this.regionHeight*e,n=this.rotation*Math.PI/180,a=Math.cos(n),h=Math.sin(n),l=r*a+this.x,u=r*h,c=i*a+this.y,f=i*h,d=s*a+this.x,p=s*h,v=o*a+this.y,m=o*h,g=this.offset;g[0]=l-f,g[1]=c+u,g[2]=l-m,g[3]=v+u,g[4]=d-m,g[5]=v+p,g[6]=d-f,g[7]=c+p},computeVertices:function(t,e,r,i){t+=r.worldX,e+=r.worldY;var s=r.m00,o=r.m01,n=r.m10,a=r.m11,h=this.offset;i[0]=h[0]*s+h[1]*o+t,i[1]=h[0]*n+h[1]*a+e,i[2]=h[2]*s+h[3]*o+t,i[3]=h[2]*n+h[3]*a+e,i[4]=h[4]*s+h[5]*o+t,i[5]=h[4]*n+h[5]*a+e,i[6]=h[6]*s+h[7]*o+t,i[7]=h[6]*n+h[7]*a+e}},es.AnimationStateData=function(t){this.skeletonData=t,this.animationToMixTime={}},es.AnimationStateData.prototype={defaultMix:0,setMixByName:function(t,e,r){var i=this.skeletonData.findAnimation(t);if(!i)throw"Animation not found: "+t;var s=this.skeletonData.findAnimation(e);if(!s)throw"Animation not found: "+e;this.setMix(i,s,r)},setMix:function(t,e,r){this.animationToMixTime[t.name+":"+e.name]=r},getMix:function(t,e){var r=this.animationToMixTime[t.name+":"+e.name];return r||this.defaultMix}},es.AnimationState=function(t){this.data=t,this.queue=[]},es.AnimationState.prototype={current:null,previous:null,currentTime:0,previousTime:0,currentLoop:!1,previousLoop:!1,mixTime:0,mixDuration:0,update:function(t){if(this.currentTime+=t,this.previousTime+=t,this.mixTime+=t,this.queue.length>0){var e=this.queue[0];this.currentTime>=e.delay&&(this._setAnimation(e.animation,e.loop),this.queue.shift())}},apply:function(t){if(this.current)if(this.previous){this.previous.apply(t,this.previousTime,this.previousLoop);var e=this.mixTime/this.mixDuration;e>=1&&(e=1,this.previous=null),this.current.mix(t,this.currentTime,this.currentLoop,e)}else this.current.apply(t,this.currentTime,this.currentLoop)},clearAnimation:function(){this.previous=null,this.current=null,this.queue.length=0},_setAnimation:function(t,e){this.previous=null,t&&this.current&&(this.mixDuration=this.data.getMix(this.current,t),this.mixDuration>0&&(this.mixTime=0,this.previous=this.current,this.previousTime=this.currentTime,this.previousLoop=this.currentLoop)),this.current=t,this.currentLoop=e,this.currentTime=0},setAnimationByName:function(t,e){var r=this.data.skeletonData.findAnimation(t);if(!r)throw"Animation not found: "+t;this.setAnimation(r,e)},setAnimation:function(t,e){this.queue.length=0,this._setAnimation(t,e)},addAnimationByName:function(t,e,r){var i=this.data.skeletonData.findAnimation(t);if(!i)throw"Animation not found: "+t;this.addAnimation(i,e,r)},addAnimation:function(t,e,r){var i={};if(i.animation=t,i.loop=e,!r||0>=r){var s=this.queue.length?this.queue[this.queue.length-1].animation:this.current;r=null!=s?s.duration-this.data.getMix(s,t)+(r||0):0}i.delay=r,this.queue.push(i)},isComplete:function(){return!this.current||this.currentTime>=this.current.duration}},es.SkeletonJson=function(t){this.attachmentLoader=t},es.SkeletonJson.prototype={scale:1,readSkeletonData:function(t){for(var e,r=new es.SkeletonData,i=t.bones,s=0,o=i.length;o>s;s++){var n=i[s],a=null;if(n.parent&&!(a=r.findBone(n.parent)))throw"Parent bone not found: "+n.parent;(e=new es.BoneData(n.name,a)).length=(n.length||0)*this.scale,e.x=(n.x||0)*this.scale,e.y=(n.y||0)*this.scale,e.rotation=n.rotation||0,e.scaleX=n.scaleX||1,e.scaleY=n.scaleY||1,r.bones.push(e)}var h=t.slots;for(s=0,o=h.length;o>s;s++){var l=h[s];if(!(e=r.findBone(l.bone)))throw"Slot bone not found: "+l.bone;var u=new es.SlotData(l.name,e),c=l.color;c&&(u.r=es.SkeletonJson.toColor(c,0),u.g=es.SkeletonJson.toColor(c,1),u.b=es.SkeletonJson.toColor(c,2),u.a=es.SkeletonJson.toColor(c,3)),u.attachmentName=l.attachment,r.slots.push(u)}var f=t.skins;for(var d in f)if(f.hasOwnProperty(d)){var p=f[d],v=new es.Skin(d);for(var m in p)if(p.hasOwnProperty(m)){var g=r.findSlotIndex(m),x=p[m];for(var b in x)if(x.hasOwnProperty(b)){var y=this.readAttachment(v,b,x[b]);null!=y&&v.addAttachment(g,b,y)}}r.skins.push(v),"default"==v.name&&(r.defaultSkin=v)}var T=t.animations;for(var _ in T)T.hasOwnProperty(_)&&this.readAnimation(_,T[_],r);return r},readAttachment:function(t,e,r){e=r.name||e;var i=es.AttachmentType[r.type||"region"];if(i==es.AttachmentType.region){var s=new es.RegionAttachment;return s.x=(r.x||0)*this.scale,s.y=(r.y||0)*this.scale,s.scaleX=r.scaleX||1,s.scaleY=r.scaleY||1,s.rotation=r.rotation||0,s.width=(r.width||32)*this.scale,s.height=(r.height||32)*this.scale,s.updateOffset(),s.rendererObject={},s.rendererObject.name=e,s.rendererObject.scale={},s.rendererObject.scale.x=s.scaleX,s.rendererObject.scale.y=s.scaleY,s.rendererObject.rotation=-s.rotation*Math.PI/180,s}throw"Unknown attachment type: "+i},readAnimation:function(t,e,r){var i,s,o,n,a,h,l,u=[],c=0,f=e.bones;for(var d in f)if(f.hasOwnProperty(d)){var p=r.findBoneIndex(d);if(-1==p)throw"Bone not found: "+d;var v=f[d];for(o in v)if(v.hasOwnProperty(o))if(a=v[o],"rotate"==o){for((s=new es.RotateTimeline(a.length)).boneIndex=p,i=0,h=0,l=a.length;l>h;h++)n=a[h],s.setFrame(i,n.time,n.angle),es.SkeletonJson.readCurve(s,i,n),i++;u.push(s),c=Math.max(c,s.frames[2*s.getFrameCount()-2])}else{if("translate"!=o&&"scale"!=o)throw"Invalid timeline type for a bone: "+o+" ("+d+")";var m=1;for("scale"==o?s=new es.ScaleTimeline(a.length):(s=new es.TranslateTimeline(a.length),m=this.scale),s.boneIndex=p,i=0,h=0,l=a.length;l>h;h++){var g=((n=a[h]).x||0)*m,x=(n.y||0)*m;s.setFrame(i,n.time,g,x),es.SkeletonJson.readCurve(s,i,n),i++}u.push(s),c=Math.max(c,s.frames[3*s.getFrameCount()-3])}}var b=e.slots;for(var y in b)if(b.hasOwnProperty(y)){var T=b[y],_=r.findSlotIndex(y);for(o in T)if(T.hasOwnProperty(o))if(a=T[o],"color"==o){for((s=new es.ColorTimeline(a.length)).slotIndex=_,i=0,h=0,l=a.length;l>h;h++){var A=(n=a[h]).color,w=es.SkeletonJson.toColor(A,0),E=es.SkeletonJson.toColor(A,1),C=es.SkeletonJson.toColor(A,2),S=es.SkeletonJson.toColor(A,3);s.setFrame(i,n.time,w,E,C,S),es.SkeletonJson.readCurve(s,i,n),i++}u.push(s),c=Math.max(c,s.frames[5*s.getFrameCount()-5])}else{if("attachment"!=o)throw"Invalid timeline type for a slot: "+o+" ("+y+")";for((s=new es.AttachmentTimeline(a.length)).slotIndex=_,i=0,h=0,l=a.length;l>h;h++)n=a[h],s.setFrame(i++,n.time,n.name);u.push(s),c=Math.max(c,s.frames[s.getFrameCount()-1])}}r.animations.push(new es.Animation(t,u,c))}},es.SkeletonJson.readCurve=function(t,e,r){var i=r.curve;i&&("stepped"==i?t.curves.setStepped(e):i instanceof Array&&t.curves.setCurve(e,i[0],i[1],i[2],i[3]))},es.SkeletonJson.toColor=function(t,e){if(8!=t.length)throw"Color hexidecimal length must be 8, recieved: "+t;return parseInt(t.substring(2*e,2),16)/255},es.Atlas=function(t,e){this.textureLoader=e,this.pages=[],this.regions=[];var r=new es.AtlasReader(t),i=[];i.length=4;for(var s=null;;){var o=r.readLine();if(null==o)break;if((o=r.trim(o)).length)if(s){var n=new es.AtlasRegion;n.name=o,n.page=s,n.rotate="true"==r.readValue(),r.readTuple(i);var a=parseInt(i[0],10),h=parseInt(i[1],10);r.readTuple(i);var l=parseInt(i[0],10),u=parseInt(i[1],10);n.u=a/s.width,n.v=h/s.height,n.rotate?(n.u2=(a+u)/s.width,n.v2=(h+l)/s.height):(n.u2=(a+l)/s.width,n.v2=(h+u)/s.height),n.x=a,n.y=h,n.width=Math.abs(l),n.height=Math.abs(u),4==r.readTuple(i)&&(n.splits=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)],4==r.readTuple(i)&&(n.pads=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)],r.readTuple(i))),n.originalWidth=parseInt(i[0],10),n.originalHeight=parseInt(i[1],10),r.readTuple(i),n.offsetX=parseInt(i[0],10),n.offsetY=parseInt(i[1],10),n.index=parseInt(r.readValue(),10),this.regions.push(n)}else{(s=new es.AtlasPage).name=o,s.format=es.Atlas.Format[r.readValue()],r.readTuple(i),s.minFilter=es.Atlas.TextureFilter[i[0]],s.magFilter=es.Atlas.TextureFilter[i[1]];var c=r.readValue();s.uWrap=es.Atlas.TextureWrap.clampToEdge,s.vWrap=es.Atlas.TextureWrap.clampToEdge,"x"==c?s.uWrap=es.Atlas.TextureWrap.repeat:"y"==c?s.vWrap=es.Atlas.TextureWrap.repeat:"xy"==c&&(s.uWrap=s.vWrap=es.Atlas.TextureWrap.repeat),e.load(s,o),this.pages.push(s)}else s=null}},es.Atlas.prototype={findRegion:function(t){for(var e=this.regions,r=0,i=e.length;i>r;r++)if(e[r].name==t)return e[r];return null},dispose:function(){for(var t=this.pages,e=0,r=t.length;r>e;e++)this.textureLoader.unload(t[e].rendererObject)},updateUVs:function(t){for(var e=this.regions,r=0,i=e.length;i>r;r++){var s=e[r];s.page==t&&(s.u=s.x/t.width,s.v=s.y/t.height,s.rotate?(s.u2=(s.x+s.height)/t.width,s.v2=(s.y+s.width)/t.height):(s.u2=(s.x+s.width)/t.width,s.v2=(s.y+s.height)/t.height))}}},es.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},es.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},es.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},es.AtlasPage=function(){},es.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},es.AtlasRegion=function(){},es.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},es.AtlasReader=function(t){this.lines=t.split(/\r\n|\r|\n/)},es.AtlasReader.prototype={index:0,trim:function(t){return t.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw"Invalid line: "+t;return this.trim(t.substring(e+1))},readTuple:function(t){var e=this.readLine(),r=e.indexOf(":");if(-1==r)throw"Invalid line: "+e;for(var i=0,s=r+1;3>i;i++){var o=e.indexOf(",",s);if(-1==o){if(!i)throw"Invalid line: "+e;break}t[i]=this.trim(e.substr(s,o-s)),s=o+1}return t[i]=this.trim(e.substring(s)),i+1}},es.AtlasAttachmentLoader=function(t){this.atlas=t},es.AtlasAttachmentLoader.prototype={newAttachment:function(t,e,r){if(e===es.AttachmentType.region){var i=this.atlas.findRegion(r);if(!i)throw"Region not found in atlas: "+r+" ("+e+")";var s=new es.RegionAttachment(r);return s.rendererObject=i,s.setUVs(i.u,i.v,i.u2,i.v2,i.rotate),s.regionOffsetX=i.offsetX,s.regionOffsetY=i.offsetY,s.regionWidth=i.width,s.regionHeight=i.height,s.regionOriginalWidth=i.originalWidth,s.regionOriginalHeight=i.originalHeight,s}throw"Unknown attachment type: "+e}},es.Bone.yDown=!0;var is=ts.exports,ss=tt.exports,os=st.exports,ns=ot.exports,as=rs.prototype=Object.create(ss.prototype,{constructor:{value:rs}});as.updateTransform=function(){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var e=this.skeleton.drawOrder,r=0,i=e.length;i>r;r++){var s=e[r],o=s.attachment,n=this.slotContainers[r];if(o instanceof is.RegionAttachment){if(o.rendererObject&&(!s.currentSpriteName||s.currentSpriteName!==o.name)){var a=o.rendererObject.name;if(void 0!==s.currentSprite&&(s.currentSprite.visible=!1),s.sprites=s.sprites||{},void 0!==s.sprites[a])s.sprites[a].visible=!0;else{var h=this.createSprite(s,o.rendererObject);n.addChild(h)}s.currentSprite=s.sprites[a],s.currentSpriteName=a}n.visible=!0;var l=s.bone;n.position.x=l.worldX+o.x*l.m00+o.y*l.m01,n.position.y=l.worldY+o.x*l.m10+o.y*l.m11,n.scale.x=l.worldScaleX,n.scale.y=l.worldScaleY,n.rotation=-s.bone.worldRotation*Math.PI/180}else n.visible=!1}ss.prototype.updateTransform.call(this)},as.createSprite=function(t,e){var r=ns.cache[e.name]?e.name:e.name+".png",i=new os(ns.fromFrame(r));return i.scale=e.scale,i.rotation=e.rotation,i.anchor.x=i.anchor.y=.5,t.sprites=t.sprites||{},t.sprites[e.name]=i,i},rs.animCache={},Zi.exports=rs;var hs={exports:{}};function ls(t,e){ms.call(this),this.width=t||100,this.height=e||100,this.identityMatrix=cs.create(),this.frame=new vs(0,0,this.width,this.height),us.gl?this.initWebGL():this.initCanvas()}var us=i,cs=w.mat3,fs=ot.exports,ds=nt.exports,ps=R.exports,vs=D.exports,ms=at,gs=mr.exports,xs=ni.exports,bs=ls.prototype=Object.create(fs.prototype,{constructor:{value:ls}});bs.initWebGL=function(){var t=us.gl;this.glFramebuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.glFramebuffer),this.glFramebuffer.width=this.width,this.glFramebuffer.height=this.height,this.baseTexture=new ds,this.baseTexture.width=this.width,this.baseTexture.height=this.height,this.baseTexture._glTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.baseTexture._glTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.baseTexture.isRender=!0,t.bindFramebuffer(t.FRAMEBUFFER,this.glFramebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.baseTexture._glTexture,0),this.projection=new ps(this.width/2,-this.height/2),this.render=this.renderWebGL},bs.resize=function(t,e){if(this.width=t,this.height=e,us.gl){this.projection.x=this.width/2,this.projection.y=-this.height/2;var r=us.gl;r.bindTexture(r.TEXTURE_2D,this.baseTexture._glTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,this.width,this.height,0,r.RGBA,r.UNSIGNED_BYTE,null)}else this.frame.width=this.width,this.frame.height=this.height,this.renderer.resize(this.width,this.height)},bs.initCanvas=function(){this.renderer=new gs(this.width,this.height,null,0),this.baseTexture=new ds(this.renderer.view),this.frame=new vs(0,0,this.width,this.height),this.render=this.renderCanvas},bs.renderWebGL=function(t,e,r){var i=us.gl;i.colorMask(!0,!0,!0,!0),i.viewport(0,0,this.width,this.height),i.bindFramebuffer(i.FRAMEBUFFER,this.glFramebuffer),r&&(i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT));var s=t.children,o=t.worldTransform;t.worldTransform=cs.create(),t.worldTransform[4]=-1,t.worldTransform[5]=-2*this.projection.y,e&&(t.worldTransform[2]=e.x,t.worldTransform[5]-=e.y),us.visibleCount++,t.vcount=us.visibleCount;for(var n=0,a=s.length;a>n;n++)s[n].updateTransform();var h=t.__renderGroup;h?t===h.root?h.render(this.projection,this.glFramebuffer):h.renderSpecific(t,this.projection,this.glFramebuffer):(this.renderGroup||(this.renderGroup=new xs(i)),this.renderGroup.setRenderable(t),this.renderGroup.render(this.projection,this.glFramebuffer)),t.worldTransform=o},bs.renderCanvas=function(t,e,r){var i=t.children;t.worldTransform=cs.create(),e&&(t.worldTransform[2]=e.x,t.worldTransform[5]=e.y);for(var s=0,o=i.length;o>s;s++)i[s].updateTransform();r&&this.renderer.context.clearRect(0,0,this.width,this.height),this.renderer.renderDisplayObject(t),this.renderer.context.setTransform(1,0,0,1,0,0)},hs.exports=ls;var ys={exports:{}};function Ts(t){var e="data:";if(t.slice(0,e.length).toLowerCase()===e){var r=t.slice(e.length),i=r.indexOf(",");if(-1===i)return null;var s=r.slice(0,i).split(";")[0];return s&&"text/plain"!==s.toLowerCase()?s.split("/").pop().toLowerCase():"txt"}return null}function _s(t,e){As.call(this),this.assetURLs=t,this.crossorigin=e}var As=at,ws={},Es=_s.prototype;Es.load=function(){function t(){e.onAssetLoaded()}var e=this;this.loadCount=this.assetURLs.length;for(var r=0,i=this.assetURLs.length;i>r;r++){var s=this.assetURLs[r],o=Ts(s);o||(o=s.split("?").shift().split(".").pop().toLowerCase());var n=ws[o];if(!n)throw new Error(o+" is an unsupported file type");var a=new n(s,this.crossorigin);a.addEventListener("loaded",t),a.load()}},Es.onAssetLoaded=function(){this.loadCount--,this.dispatchEvent({type:"onProgress",content:this}),this.onProgress&&this.onProgress(),this.loadCount||(this.dispatchEvent({type:"onComplete",content:this}),this.onComplete&&this.onComplete())},_s.registerLoaderType=function(t,e){ws[t]=e},ys.exports=_s;var Cs={exports:{}},Ss={exports:{}};function Rs(t,e){Ds.call(this),this.texture=Ls.fromImage(t,e),this.frames=[]}var Fs=ys.exports,Ds=at,Ls=ot.exports,Bs=Rs.prototype;function Ps(t,e){Us.call(this),this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.loaded=!1}Bs.load=function(){if(this.texture.baseTexture.hasLoaded)this.onLoaded();else{var t=this;this.texture.baseTexture.addEventListener("loaded",(function(){t.onLoaded()}))}},Bs.onLoaded=function(){this.dispatchEvent({type:"loaded",content:this})},Bs.loadFramedSpriteSheet=function(t,e,r){this.frames=[];for(var i=Math.floor(this.texture.width/t),s=Math.floor(this.texture.height/e),o=0,n=0;s>n;n++)for(var a=0;i>a;a++,o++){var h=new Ls(this.texture,{x:a*t,y:n*e,width:t,height:e});this.frames.push(h),r&&(Ls.cache[r+"-"+o]=h)}if(this.texture.baseTexture.hasLoaded)this.onLoaded();else{var l=this;this.texture.baseTexture.addEventListener("loaded",(function(){l.onLoaded()}))}},Fs.registerLoaderType("jpg",Rs),Fs.registerLoaderType("jpeg",Rs),Fs.registerLoaderType("png",Rs),Fs.registerLoaderType("gif",Rs),Ss.exports=Rs;var Os=ys.exports,Ms=Ss.exports,Us=at,Is=ot.exports,Ns=Zi.exports,ks=ts.exports.SkeletonJson,js=a.exports,Ys=Ps.prototype;Ys.handleEvent=function(t){if("load"===t.type)this.onJSONLoaded();else this.onError()},Ys.load=function(){this.request=js.createRequest(),this.request.addEventListener("load",this),this.request.addEventListener("error",this),this.request.open("GET",this.url,!0),this.request.overrideMimeType&&this.request.overrideMimeType("application/json"),this.request.send(null)},Ys.onJSONLoaded=function(){if(this.json=JSON.parse(this.request.responseText),this.json.frames){var t=this,e=this.baseUrl+this.json.meta.image,r=new Ms(e,this.crossorigin),i=this.json.frames;for(var s in this.texture=r.texture.baseTexture,r.addEventListener("loaded",(function(){t.onLoaded()})),i){var o=i[s].frame;o&&(Is.cache[s]=new Is(this.texture,{x:o.x,y:o.y,width:o.w,height:o.h}),i[s].trimmed&&(Is.cache[s].realSize=i[s].spriteSourceSize,Is.cache[s].trim.x=0))}r.load()}else if(this.json.bones){var n=(new ks).readSkeletonData(this.json);Ns.animCache[this.url]=n,this.onLoaded()}else this.onLoaded()},Ys.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},Ys.onError=function(){this.dispatchEvent({type:"error",content:this})},Os.registerLoaderType("json",Ps),Cs.exports=Ps;var Xs={exports:{}};function Gs(t,e){zs.call(this),this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.texture=null,this.frames={}}var Ws=Cs.exports,Vs=Ss.exports,zs=at,qs=ot.exports,Hs=Gs.prototype;Hs.load=function(){var t=this,e=new Ws(this.url,this.crossorigin);e.addEventListener("loaded",(function(e){t.json=e.content.json,t.onJSONLoaded()})),e.load()},Hs.onJSONLoaded=function(){var t=this,e=this.baseUrl+this.json.meta.image,r=new Vs(e,this.crossorigin),i=this.json.frames;for(var s in this.texture=r.texture.baseTexture,r.addEventListener("loaded",(function(){t.onLoaded()})),i){var o=i[s].frame;o&&(qs.cache[s]=new qs(this.texture,{x:o.x,y:o.y,width:o.w,height:o.h}),i[s].trimmed&&(qs.cache[s].realSize=i[s].spriteSourceSize,qs.cache[s].trim.x=0))}r.load()},Hs.onLoaded=function(){this.dispatchEvent({type:"loaded",content:this})},Xs.exports=Gs;var Js={exports:{}};function Ks(t,e){to.call(this),this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.texture=null}var $s=ys.exports,Qs=Ss.exports,Zs=D.exports,to=at,eo=ze.exports,ro=ot.exports,io=a.exports,so=Ks.prototype;so.handleEvent=function(t){if("load"===t.type)this.onXMLLoaded();else this.onError()},so.load=function(){this.request=io.createRequest(),this.request.addEventListener("load",this),this.request.addEventListener("error",this),this.request.open("GET",this.url,!0),this.request.overrideMimeType&&this.request.overrideMimeType("application/xml"),this.request.send(null)},so.onXMLLoaded=function(){var t=this.baseUrl+this.request.responseXML.getElementsByTagName("page")[0].attributes.getNamedItem("file").nodeValue,e=new Qs(t,this.crossorigin);this.texture=e.texture.baseTexture;var r={},i=this.request.responseXML.getElementsByTagName("info")[0],s=this.request.responseXML.getElementsByTagName("common")[0];r.font=i.attributes.getNamedItem("face").nodeValue,r.size=parseInt(i.attributes.getNamedItem("size").nodeValue,10),r.lineHeight=parseInt(s.attributes.getNamedItem("lineHeight").nodeValue,10),r.chars={};for(var o=this.request.responseXML.getElementsByTagName("char"),n=0;n<o.length;n++){var a=parseInt(o[n].attributes.getNamedItem("id").nodeValue,10),h=new Zs(parseInt(o[n].attributes.getNamedItem("x").nodeValue,10),parseInt(o[n].attributes.getNamedItem("y").nodeValue,10),parseInt(o[n].attributes.getNamedItem("width").nodeValue,10),parseInt(o[n].attributes.getNamedItem("height").nodeValue,10));r.chars[a]={xOffset:parseInt(o[n].attributes.getNamedItem("xoffset").nodeValue,10),yOffset:parseInt(o[n].attributes.getNamedItem("yoffset").nodeValue,10),xAdvance:parseInt(o[n].attributes.getNamedItem("xadvance").nodeValue,10),kerning:{},texture:ro.cache[a]=new ro(this.texture,h)}}var l=this.request.responseXML.getElementsByTagName("kerning");for(n=0;n<l.length;n++){var u=parseInt(l[n].attributes.getNamedItem("first").nodeValue,10),c=parseInt(l[n].attributes.getNamedItem("second").nodeValue,10),f=parseInt(l[n].attributes.getNamedItem("amount").nodeValue,10);r.chars[c].kerning[u]=f}eo.fonts[r.font]=r;var d=this;e.addEventListener("loaded",(function(){d.onLoaded()})),e.load()},so.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},so.onError=function(){this.dispatchEvent({type:"error",content:this})},$s.registerLoaderType("xml",Ks),$s.registerLoaderType("fnt",Ks),Js.exports=Ks;var oo={exports:{}};function no(t,e){lo.call(this),this.url=t,this.crossorigin=e,this.loaded=!1}var ao=ys.exports,ho=Cs.exports,lo=at,uo=Zi.exports,co=ts.exports.SkeletonJson,fo=no.prototype;fo.load=function(){var t=this,e=new ho(this.url,this.crossorigin);e.addEventListener("loaded",(function(e){t.json=e.content.json,t.onJSONLoaded()})),e.load()},fo.onJSONLoaded=function(){var t=(new co).readSkeletonData(this.json);uo.animCache[this.url]=t,this.onLoaded()},fo.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},ao.registerLoaderType("anim",no),oo.exports=no;var po={};var vo=a.exports;po.runList=function(t,e){var r=0,i=t.first;for(function(t){var e=vo.console;e.groupCollapsed?e.groupCollapsed(t):e.group?e.group(t):e.log(t+" >>>>>>>>>")}(e="pixi.runList"+(e?"("+e+")":"")),vo.console.log(i);i._iNext;)if(r++,i=i._iNext,vo.console.log(i),r>100){vo.console.log("BREAK");break}!function(t){var e=vo.console;e.groupEnd?e.groupEnd(t):e.log(t+" _________")}(e)};var mo=i,go=s,xo=w,bo=r.exports=Object.create(mo);bo.Point=R.exports,bo.Rectangle=D.exports,bo.Polygon=P.exports,bo.Circle=I.exports,bo.Ellipse=j.exports,bo.Matrix=xo.Matrix,bo.mat3=xo.mat3,bo.mat4=xo.mat4,bo.blendModes=W,bo.DisplayObject=V.exports,bo.DisplayObjectContainer=tt.exports,bo.Sprite=st.exports,bo.MovieClip=Ct.exports,bo.AbstractFilter=Dt,bo.BlurFilter=Lt.exports,bo.BlurXFilter=Bt.exports,bo.BlurYFilter=Ut.exports,bo.ColorMatrixFilter=Wt.exports,bo.ColorStepFilter=Ht.exports,bo.CrossHatchFilter=Qt.exports,bo.DisplacementFilter=re.exports,bo.DotScreenFilter=ne.exports,bo.FilterBlock=z,bo.GrayFilter=ue.exports,bo.InvertFilter=pe.exports,bo.PixelateFilter=xe.exports,bo.RGBSplitFilter=_e.exports,bo.SepiaFilter=Ce.exports,bo.SmartBlurFilter=De.exports,bo.TwistFilter=Oe.exports,bo.Text=Ne.exports,bo.BitmapText=ze.exports,bo.InteractionManager=Qe.exports,bo.Stage=nr.exports,bo.EventTarget=at,bo.autoDetectRenderer=function(t,e,r,i,s){t||(t=800),e||(e=600);var o=function(){try{var t=Vi.createCanvas();return!!Vi.window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){return!1}}();o&&Vi.navigator&&(o=!(-1!==Vi.navigator.userAgent.toLowerCase().indexOf("trident")));return o?new qi(t,e,r,i,s):new zi(t,e,r,i)},bo.PolyK=hi,bo.WebGLGraphics=ai,bo.WebGLRenderer=Zr.exports,bo.WebGLBatch=ti.exports,bo.WebGLRenderGroup=ni.exports,bo.CanvasRenderer=mr.exports,bo.CanvasGraphics=gr,bo.Graphics=xr.exports,bo.Strip=Lr.exports,bo.Rope=Hi.exports,bo.TilingSprite=Er.exports,bo.Spine=Zi.exports,bo.CustomRenderable=Ur.exports,bo.BaseTexture=nt.exports,bo.Texture=ot.exports,bo.RenderTexture=hs.exports,bo.AssetLoader=ys.exports,bo.JsonLoader=Cs.exports,bo.SpriteSheetLoader=Xs.exports,bo.ImageLoader=Ss.exports,bo.BitmapFontLoader=Js.exports,bo.SpineLoader=oo.exports,bo.initDefaultShaders=go.initDefaultShaders,bo.activatePrimitiveShader=go.activatePrimitiveShader,bo.deactivatePrimitiveShader=go.deactivatePrimitiveShader,bo.activateStripShader=go.activateStripShader,bo.deactivateStripShader=go.deactivateStripShader;var yo=po;bo.runList=yo.runList;var To=r.exports;export{To as default};
//# sourceMappingURL=/sm/3dafddc2beb18c15554f91bc62befe5bf0f9e6dae577a9cec609a97201deb668.map